<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
</head>
<body style="background-color:skyblue;">

<a href="https://brilliant.org/">뭐더라</a>
	<p>하고 싶은 질문들 </p>
	<p> 1. 실무자가 보기에 금융공학이란게 뭐라고 생각하는지 궁금하다. </p>
	<p> 2. 나는 수학이 좋고 경제분야의 책을 읽으면 흥미롭고 이를 공부하면 재밌을것 같아서 금융공학을 선택했다. 이것 만으로 금융공학을 계속 공부하는게 좋은것 같은가. </p>
	<p> 3. 금융공학을 배워서 무엇을 할 수있는지 궁금하다.</p>
	<p> 4. 나는 지금 생각으로는 컨설팅을 하고 싶다. 가능한지와 앞으로 방향을 어떻게 잡고 무슨공부를 좀더 하면 좋겠는가.(학위정도, 언어, 어느 대학(원)을 가는지)</p>
	<p> 5. 솔직히 나는 금융공학 선택한 이유중에 돈을 많이 번다는것도 적지 않게 포함되어있다. 실질적인 수입또한 궁금하고 컨설팅을 하게 된다면 어는 정도 버는지? </p>
	<p> 6. 프로그래밍이 중요하다는 이야기를 많이 들었는데 어떤 것을 공부하는것이 좋겠는가? </p>
	<p> QuantNet </p>
	<p> 바칼로레아 </p>
	<P> 한국금융개발원 </p>
  <a href="https://diotheworld.github.io/"> 보물창고 </a> 
  <img src="data:image/jpeg;base64,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" alt="warning" width="320" height"200">
  <button> woder </button>
  <h2> 휴가가서 먹을 것 </h2>
  <u1>
    <li> 초밥 </li>
    <li> 카레 </li>
    <li> 그 뭐야 코빈이가 데려간 사케집 </li>
  </u1>
  <br>
  <br>
  <br>
  <br>
  <h2> 휴가가서 할 것 </h2>
  <ol>
    <li> 다양한 술 마시기 </li>
    <li> 놀러가기 </li>
    <li> 하루정도는 집에서 푹쉬기 </li>
	  <p style="color:blue"> pink? </p>
	  <P title="Are you curious?"> If you wonder who I am, raise your mouse  </p>
	  
<h1> નુલુંગા <h1>
<h2> નુલુંગા <h2>
<h3> નુલુંગા <h3>
<h4> નુલુંગા <h4>
<h5> નુલુંગા <h5>
<h6> નુલુંગા <h6>
<h7> નુલુંગા <h7>	
	
	
	<p> 상담병 지원서 </p>
	<p> 저 일병 박재춘은 또래 상담병을 하고자 합니다. 나만의 장점 1. 또래상담사 교육을 학창시절에 1년동안 수료하였다. 
2. 이를 기반으로 많은 친구들과 상담을 하였으며 이것으로 인해 점점 능숙한 상담이 가능하게 되었다.
3. 상담을 하는것을 좋아한다.
단점 px병이라 시간이 여유롭지 않다. 시간은 개인정비 뿐만아니라 밤에 연등시간이어도 되고 상담이라는게 그리 거창한게 아니라
자신의 이야기를 털어놓고 나누는 것인데 이는 px를 들릴때 단시간에도 충분이 가능하다. 또한 px옆에 독립된 공간이 있다. 여기 일과시간 가끔
교육하는데 사용하기 거의 빈공간으로 사용되고 있다. 이 공간에서 개인정비시간 혹은 주말을 이용한다면 독립된공간에서 좀더 심도 깊은 상담을 
장시간동안 하는데 용의 하다.</p>
	
<p> 저 일병 박재춘은 또래 상담병을 하고자 합니다. 또래상담병은 간부님을 거치기전에 저희들끼리 고민을 나누고 그에대한 해결책을 일차적으로 
상담병과 상담자가 그에대한 방향을 잡아가는 것이라고 생각합니다. 그렇기에 상담병은 보다 올바르게 방향을 잡아 줄 수 있는 이에 보다 숙련된 사람이
필요하다고 판단됩니다. 이에 저는 학창시절에 1년동안 또래상담사 교육을 들으면 전문상담사에게 상담을 어떻게 해야하는지 상담을 한후에는 어떻게 
해야하는지에 대한 피드백을 받으며 실제 수차례의 상담일지를 작성 및 관리 하였습니다. 이를 바탕으로 꾸준히 다양한 친구들의 상담을 해주었습니다.
이러한 것이 조금씩 누적이 되어 어떤사람에게 어떻게 해야하는지에 대한 저만의 경험이 쌓여 있기도 합니다. 이렇게 해왔던 상담중에는 학과 진로 선택
과 같은 미래 고민뿐만 아니라 '정말 이렇게 사는게 의미가 있나 진짜 죽는게 낫지 않을까'는 친구의 상담, '병원에서 자기가 우울증이라는데 정말 
미쳐버릴꺼 같다'등 심적으로 힘든 친구들의상담들 다양한 이야기를 들으며 도와줬었습니다. 하지만 px병을 하고 있기에 시간이 여유롭지 않느냐라고 
할 수있는데 시간은 개인정비 뿐만아니라 밤에 연등시간이어도 되고 상담이라는게 그리 거창한게 아니라자신의 이야기를 털어놓고 나누는 것인데 이는 
px를 들릴때 시시콜콜한 하소연같은 것들은 단시간에도 충분이 가능합니다. 또한 px옆에 독립된 공간이 있다. 여기 일과시간 가끔 교육하는데 사용하기 
거의 빈공간으로 사용되고 있습니다. 이 공간에서 개인정비시간 혹은 주말을 이용한다면 독립된공간에서 좀더 심도 깊은 상담을 장시간동안 하는데 용의 
합니다. 마지막으로 상담하는것을 좋아합니다. 상담하는 것을 즐기기에 한떄 장래희망을 제가 좋아하는 수학과 더불어 같이 할 수 있는 수학선생님을 
꿈꾸기도 했었습니다. 지금 또한 제 전공을 살리면서 상담을 하는 직업군을 고민하다가 현재는 전공도 살리면 상담과 같은 형식을 덧붙여 할 수 있는 
것을 하고자 하여 현제는 경영컨설턴트를 하고자 합니다. 이렇게 상담하는 것을 즐기며 조금이나마 상담을 한 경험이 있는 제가 이에 어울리는 사람이 
아닐까라는 생각을 믿어 의심치 않습니다. </
	
	px에 항상 있기에 지니가다 시시콜콜한 하소연 꺼리를
털어 놓기도 용이하고
	
	px병이라 시간이 없지 않느냐 포대에서 사람들의 관계를
파악하는데 늦지 않느냐 할 수 있는데 
	
	<h1 style="font-size:50px;"> નુલુંગા </h1>
	  <pre>
	 <h1>      풀꽃 </h1>
	               -나태주-
          자세히 보아야
	  이쁘다
	  오래 보아야
	  사랑스럽다
	  너도 그렇다
	  </pre>
<h1 style="font-family:couier;"> નુલુંગા </h1>
<p style="font-family:verdana;"> નુલુંગા </p>
<p style="text-align:center;">	નુલુંગા </p>
<p style="font-size:300%;">	નુલુંગા </p>
<p style="font-family:verdana;">	નુલુંગા </p>
	
	<br>
	<p>નુલુંગા</p>
	<p><b>નુલુંગા</b></p>
	<p><strong>નુલુંગા</strong></p>
	<p><i>નુલુંગા</i></p>
	<p><em>નુલુંગા</em></p>
	<p><mark>નુલુંગા</mark></p>
	<p><small>નુલુંગા</small></p>
	<p><del>નુલુંગા</del></p>
	<p><ins>નુલુંગા</ins></p>
	<p>2<sup>2</sup></p>
	<p>H<sub>2</sub>O</p>
	
	<bdo dir="rtl">This line will be written from right to left</bdo>
	
	<h1 style="background-color:mediumseagreen;">mediumseagreen</h1>
	<p style="border: 2px solid dodgerblue;"> Hello World
		
		<br>
	<h1 style="background-color:rgb(255,99,71);">rgb(255,99,71)</h1>
	<h1 style="background-color:#ff6347;">#ff6347 16진수값 RRGGBB 0~f</h1>
	<h1 style="background-color:hsl(9,100%,64%);">hsl<9,100%,64%) hsl(색상,채도,밝기)0~360,0%~100%,0%~100%</h1>
		
		<br>
		<h1 style="background-color:rgba(255,99,71,0.5);">rgba(255,9,71,0.5)</h1>
		<h1 style="background-color:hsla(9,100%,64%,0.5);">hsla(9,100%,64%,0.5)</h1>
		
		
<br>
		<head>
			<style>
				h1{color: blue;}
				p{color:red;}
			</style>
			<body>
				<h1> 1 </h1>
				<h1> 2 </h1>
				<h1> 3 </h1>
				<p> 1 </p>
				<p> 2 </p>
				<p> 3 </p>
				
			</body>
	
	<hr><hr><hr><hr><hr><hr><hr><hr><hr><hr><hr>

<html>
<head>
</head>
<body onload="start()" style="background-color:black">
<center>
<canvas id="can" width="1200" height="800" style="border:1px solid #c3c3c3; cursor:none;"/>
</center>
<audio id="Sugar" src="https://diotheworld.github.io/Music/DanceOfTheSugarplumFairy.mp3"/>
<audio id="Fade" src="https://diotheworld.github.io/Music/Fade.mp3"/>
<audio id="Camp" src="https://diotheworld.github.io/Music/CAMP.mp3"/>
<audio id="balloonBoom" src="https://diotheworld.github.io/Music/sports-sound13.ogg"/>
<audio id="item" src="https://diotheworld.github.io/Music/아이템이다.mp3"/>
<audio id="balloonSet" src="https://diotheworld.github.io/Music/etc-sound0010.ogg"/>
<script>
var username=prompt("당신의 이름을 입력해주세요");
var can=document.getElementById("can");
var ctx=can.getContext("2d");
var map={};
var oneBlock=40;
var halfBlock=oneBlock/2;
var x = [oneBlock*2, 1080];
var y = [oneBlock*1, 480];
var situation=0;<!--대화의 상황 순서-->
var dialogueSet=0;<!--0이라면 대화중이 아님.-->
var dialogueCount=-2;<!--대화중 필요한 변수-->
var dialogueNpc=0;<!--대화중인 npc-->
var sight=[3,3];<!--좌:0 상:1 우:2 하: 3-->
var backgroundx,backgroundy,charx,chary;
var mw,mh;<!--mapwidth mapheight-->
mw=1200;
mh=800;
var mwBlock=mw/oneBlock, mhBlock=mh/oneBlock;
var mouseX, mouseY;

function playMusic(id){
	var myAudio = document.getElementById(id); 
	if(myAudio.currentTime==0||myAudio.currentTime==myAudio.duration) { myAudio.play(); } 
}
function playMusic2(id){
	var myAudio = document.getElementById(id); 
	{ myAudio.load(); myAudio.play();} 
}
function aud_play_pause(id) { 
	var myAudio = document.getElementById(id); 
	if (myAudio.paused) { myAudio.play(); } 
	else { myAudio.pause(); } 
}

var blockMap =new Array(2);
blockMap[0] = new Array(52); <!-- map 0번째의 벽들 생성. 가로 102칸 세로 52칸.
// -1:벽 0:공중 101~107:아이템 1000대:npc들 10000:부술 수 있는장애물 10001:물풍선1p 20001:물풍선2p 30001:빌딩들 40001:맵 이동
// 0~999: 지나다닐 수 있는 공간 
for(var i=0;i<mhBlock+2;i++) blockMap[0][i] = new Array(mwBlock+2);
for(var i=0;i<mhBlock+2;i++)
	for(var n=0;n<mwBlock+2;n++)
		blockMap[0][i][n]=2147483647;
for(var i=1;i<mhBlock+1;i++)
	for(var n=1;n<mwBlock+1;n++)
		blockMap[0][i][n]=0;

var background1=new Image();
background1.src=("https://diotheworld.github.io/image/background1.png");

var ff=new Image();
ff.src=("https://diotheworld.github.io/image/fire.png");
var mouse=new Image();
mouse.src=("https://diotheworld.github.io/image/cursor.png");

var mainChar=[
	[//원래캐릭터
		new makechar("https://diotheworld.github.io/image/left.png"),
		new makechar("https://diotheworld.github.io/image/back.png"),
		new makechar("https://diotheworld.github.io/image/right.png"),
		new makechar("https://diotheworld.github.io/image/front.png"),
		new makechar("https://diotheworld.github.io/image/물속.png")
	],
	[//2p 캐릭터
		new makechar("https://diotheworld.github.io/image/left.png"),
		new makechar("https://diotheworld.github.io/image/back.png"),
		new makechar("https://diotheworld.github.io/image/right.png"),
		new makechar("https://diotheworld.github.io/image/front.png"),
		new makechar("https://diotheworld.github.io/image/물속.png")
	]
];
function makechar(source){
	this.image=new Image();
	this.image.src=source;
}
var obstacleMap=new Array(2); //장애물: 1칸씩이고 물풍선으로 파괴가능. 아이템도 나옴.
var buildingMap=new Array(2);	//빙딩들: 1칸이 아니고 물풍선으로 파괴 불가능.
var npcMap=new Array(2);	//npc들. 말을 걸 수 있음
//빌딩들
buildingMap[0]=[
	new makeBuilding("큰통",3,7,2,2,"https://diotheworld.github.io/image/tong.png"),
	new makeBuilding("시설1",8,8,9,3,"https://diotheworld.github.io/image/시설1.png"),
];
//빌딩 만들기
function makeBuilding(name,x,y,sizex,sizey,source){//겹치는 장애물 있으면 못만들어지게 만들어야됨.
	this.name=name;
	this.existence=1;
	this.x=x;
    this.y=y;
	this.sizex=sizex;
	this.sizey=sizey;
	this.state=0;
	this.image=new Array(2);
    this.image[0]=new Image();
    this.image[0].src=source;	//장애물 이미지
	this.image[1]=new Image();	//아이템 이미지
	this.image[1].src="https://diotheworld.github.io/image/Item/Roller.png"; //롤러스테이트
	if((x>mwBlock+1)||(x<1)||(y>mhBlock+1)||(y<1)||(blockMap[0][y][x]!=0)){
		this.existence=0;
		return;
	}
	for(a=0;a<sizey;a++)
		for(b=0;b<sizex;b++)
			blockMap[0][y+a][x+b]=30000;
}
//빌딩 그리기
function drawBuildings(){
var a,b=buildingMap[0].length;
for(a=0;a<b;a++)
if(buildingMap[0][a].existence) ctx.drawImage(buildingMap[0][a].image[buildingMap[0][a].state],backgroundx+(buildingMap[0][a].x-1)*oneBlock,backgroundy+(buildingMap[0][a].y-1)*oneBlock,buildingMap[0][a].sizex*oneBlock,buildingMap[0][a].sizey*oneBlock);
}
<!--장애물들
obstacleMap[0] = [
	new makeObstacle("통",3,4,1,1,"https://diotheworld.github.io/image/tong.png"),
	new makeObstacle("통",3,6,1,1,"https://diotheworld.github.io/image/tong.png"),
	new makeObstacle("통",4,6,1,1,"https://diotheworld.github.io/image/tong.png"),
	new makeObstacle("통",6,4,1,1,"https://diotheworld.github.io/image/tong.png"),
	new makeObstacle("통",7,4,1,1,"https://diotheworld.github.io/image/tong.png"),
	new makeObstacle("통",6,6,1,1,"https://diotheworld.github.io/image/tong.png"),
	new makeObstacle("통",7,6,1,1,"https://diotheworld.github.io/image/tong.png"),
	new makeObstacle("통",6,7,1,1,"https://diotheworld.github.io/image/tong.png"),
	
//	new makeObstacle("큰통",3,7,2,2,"https://diotheworld.github.io/image/tong.png"),
//	new makeObstacle("시설1",8,8,9,3,"https://diotheworld.github.io/image/시설1.png"),
	new makeObstacle("통",8,8,1,1,"https://diotheworld.github.io/image/tong.png"),
];
for(var i=1;i<=mhBlock;i++){
	obstacleMap[0][obstacleMap[0].length]=new makeObstacle("세로철조망",1,i,1,1,"https://diotheworld.github.io/image/Obstacle/heightFence.png");
	obstacleMap[0][obstacleMap[0].length]=new makeObstacle("세로철조망",mwBlock,i,1,1,"https://diotheworld.github.io/image/Obstacle/heightFence.png");
}
for(var i=2;i<=mwBlock-1;i++){
	obstacleMap[0][obstacleMap[0].length]=new makeObstacle("가로철조망",i,1,1,1,"https://diotheworld.github.io/image/Obstacle/widthFence.png");
	obstacleMap[0][obstacleMap[0].length]=new makeObstacle("가로철조망",i,mhBlock,1,1,"https://diotheworld.github.io/image/Obstacle/widthFence.png");
}
for(var i=0;i<40;i++){
	for(var n=0;n<23;n++)
	obstacleMap[0][obstacleMap[0].length]=new makeObstacle("통",2*i,2*n,1,1,"https://diotheworld.github.io/image/tong.png");
}
for(var i=0;i<25;i++){
	for(var n=0;n<16;n++){
		if(Math.floor(Math.random() * 4)<1)
		obstacleMap[0][obstacleMap[0].length]=new makeObstacle("통",i+4,n+4,1,1,"https://diotheworld.github.io/image/tong.png");
	}
}
<!--장애물 만들기
function makeObstacle(name,x,y,sizex,sizey,source){//겹치는 장애물 있으면 못만들어지게 만들어야됨.
	this.name=name;
	this.existence=1;
	this.x=x;
    this.y=y;
	this.sizex=sizex;
	this.sizey=sizey;
	this.state=0;
	this.item=Math.floor(Math.random() * 6);
	this.image=new Array(2);
    this.image[0]=new Image();
    this.image[0].src=source;	//장애물 이미지
	this.image[1]=new Image();	//아이템 이미지
	if(this.item==0){ this.image[1].src="https://diotheworld.github.io/image/Item/Roller.png"; }//롤러스테이트
	if(this.item==1){ this.image[1].src="https://diotheworld.github.io/image/Item/Bubble.png"; }//물풍선
	if(this.item==2){ this.image[1].src="https://diotheworld.github.io/image/Item/Fluid.png"; }//물줄기
	this.itemExistence=(this.item<=2);
	if((x>mwBlock+1)||(x<1)||(y>mhBlock+1)||(y<1)||(blockMap[0][y][x]!=0)){
		this.existence=0;
		return;
	}
	for(a=0;a<sizey;a++)
		for(b=0;b<sizex;b++)
			blockMap[0][y+a][x+b]=10000;
}
<!--장애물 그리기
function drawObstacles(){
var a,b=obstacleMap[0].length;
for(a=0;a<b;a++)
if(obstacleMap[0][a].existence) ctx.drawImage(obstacleMap[0][a].image[obstacleMap[0][a].state],backgroundx+(obstacleMap[0][a].x-1)*oneBlock,backgroundy+(obstacleMap[0][a].y-1)*oneBlock,obstacleMap[0][a].sizex*oneBlock,obstacleMap[0][a].sizey*oneBlock);
}
<!--장애물, 아이템 물풍선에 맞았을 때
function obstacleBoom(a){
	if((obstacleMap[0][a].itemExistence==0)||(obstacleMap[0][a].state)){ obstacleMap[0][a].existence=0; blockMap[0][obstacleMap[0][a].y][obstacleMap[0][a].x]=0; }
	else{ obstacleMap[0][a].state=1; blockMap[0][obstacleMap[0][a].y][obstacleMap[0][a].x]=100+obstacleMap[0][a].item; }
}
<!--npc들
var npcCount=0;
var npcMap = new Array(<!--x는 최대 100, y는 최대 50
  new makeNpc("김 상병",4,4,"https://diotheworld.github.io/image/Npc/김상병.png"), 
  new makeNpc("이 일병",17,5,"https://diotheworld.github.io/image/a.jpg"), 
  new makeNpc("최 병장",20,25,"http://shop1.phinf.naver.net/20170227_213/bookch_1488183117948QY2EU_JPEG/9791131951293.jpg"),
  new makeNpc("금 일병",5,22,"http://shop1.phinf.naver.net/20170227_213/bookch_1488183117948QY2EU_JPEG/9791131951293.jpg"),
  new makeNpc("이성우 일병",40,40,"https://diotheworld.github.io/image/Npc/김상병.png")
);
function makeNpc(name,x,y,source){
	this.name=name;
	this.x=x;
    this.y=y;
    this.image=new Image();
    this.image.src=source;
	if((x>mwBlock+1)||(x<1)||(y>mhBlock+1)||(y<1)){
		this.x=0; this.y=0; npcCount+=1;
		return;
	}
	blockMap[0][y][x]=1000+npcCount;
	npcCount+=1;
}
function drawNpcs(){
var a,b=npcMap.length;
for(a=0;a<b;a++)
ctx.drawImage(npcMap[a].image,backgroundx+(npcMap[a].x-1)*oneBlock,backgroundy+(npcMap[a].y-1)*oneBlock,oneBlock,oneBlock);
}
var dialogue = [  //npc의 대화들
  [
    [0,username,
    1,"이병 "+username,
    0,"뭐하냐",
    1,"죄송합니다"
    ],<!--김 상병 situation==0일때 대사
    [1,"김 상병님?",
	0,"왜 ",
    1,"삽 있으십니까? 작업하려하는데 필요합니다.",
    0,"어 저기 창고에 있다",
    0,"감사합니다",
    1,"이상한짓 하지 말고"
    ],
  ], <!--김 상병 situation 1
  [
    [0,"야",
    1,"이병 "+username,
    0,"뭐하냐?",
    0,"지금 작업하는거 안보이냐? 빨리 안도와줘?",
    1,"죄송합니다 바로 돕겠습니다",
	0,"김 상병님이 삽 가지고 있으니까 빨리 가지고와",
	1,"알겠습니다.",
	2
    ],<!--이 일병 situation==0일때 대사
    [0,"삽 가져오라니깐"
    ],
  ], <!--이 일병 situation 1
  [
	[0,"야 짬찌",
    1,"이병 "+username,
    0,"눈감아봐",
    1,"감았습니다",
	0,"니 미래야"
    ],<!--최 병장situation 0
    [0,"야",
    1,"이병 "+username,
    0,"뭐하냐?",
    0,"지금 메추리알 먹는거 안보이냐? 개쳐맞고싶나",
    1,"저도 주십시오"
    ],
  ], <!--최 병장situation 1
  [
	[0,"야 짬찌",
    1,"이병 "+username,
    0,"너 잘못했지?",
    1,"아닙니다",
	0,"여기가 밖이지 안이야?"
    ],<!--금 일병situation 0
    [0,"야",
    1,"이병 "+username,
    0,"뭐하냐?",
    0,"지금 메추리알 먹는거 안보이냐? 개쳐맞고싶나",
    1,"저도 주십시오"
    ],
  ], <!--금 일병situation 1
  [
	[1,"이성우 일병님",
	0,"왜",
    1,"심심해 보이십니다",
    0,"빨리 생활관 가서 TV보고싶다 "+username+"야",
    1,"...",
	0,"응?",
	0,"심심하다니깐?",
	1,"..."
    ],<!--이성우 일병situation 0
    [0,"야",
    1,"이병 "+username,
    0,"아직도 여기있냐?",
    0,"가서 탁구나 연습해",
	0,"너 나한테 지잖아",
    1,"알겠습니다"
    ],
  ]
];
function npcTalk2(n){
	ctx.font = "30px Arial";
	<!--ctx.strokeText("Hello World",10,50);
	for(a=0;a<dialogue[n][situation].length;a++){
		for(b=0;b<1000;b++)
		ctx.strokeText(dialogue[n][situation][a],100,700);
	}
	map[32]=0;
}
function npcTalk(n){
	dialogueNpc=n;
	map[32]=0;
	if((dialogueCount+2)>=dialogue[dialogueNpc][situation].length){ dialogueSet=0; dialogueCount=-2; }<!--대화가 끝이라면 대화중이 아님으로 설정
	else { dialogueSet=1; dialogueCount+=2; }<!--대화중이라면 대화 카운트를 2씩 높임
	if(dialogue[dialogueNpc][situation][dialogueCount]==2){ situation+=1; dialogueSet=0; dialogueCount=-2; }<!--다음 상황으로 넘어감
}
function Talking(){
	ctx.globalAlpha = 0.5;
	ctx.fillStyle = "black";
	ctx.fillRect(0,600,1200,200);
	ctx.globalAlpha = 1;
	ctx.font = "50px Arial";
	ctx.fillStyle = "yellow";
	if(dialogue[dialogueNpc][situation][dialogueCount]==0)
		ctx.fillText(npcMap[dialogueNpc].name+" : "+dialogue[dialogueNpc][situation][dialogueCount+1],100,700);
	else
		ctx.fillText(username+" : "+dialogue[dialogueNpc][situation][dialogueCount+1],100,700);
}
var w=[0,0];
for(k=0;k<2;k++){//물풍선
	w[k]={
		maxPossibleCount:100, possibleCount:1,<!--물풍선 쓸 수 있는 개수
		maxLen:50, len:1,<!--물줄기
		speedCount:1, speed:[0.5,0.6,0.7,0.8,0.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,2,2.2,2.4,2.6,2.8,3,3.2,3.4,3.6,3.8,4],<!--롤러스테이트
		leftLen:1,rightLen:1,upLen:1,downLen:1,
		leftBlock:1,rightBlock:1,upBlock:1,downBlock:1,
		x:1,
		y:1,
		count:1,<!--물풍선 갯수
		countTime:1,
		inBalloon:0, inBalloonSpeed:0.1,
		order:0,<!--
		image:1, //물풍선 이미지
		image2:1 //물풍선 터졌을때 이미지
	};
	w[k].leftLen=new Array(w.possibleCount);
	w[k].rightLen=new Array(w.possibleCount);
	w[k].upLen=new Array(w.possibleCount);
	w[k].downLen=new Array(w.possibleCount);
	w[k].leftBlock=new Array(w.possibleCount);
	w[k].rightBlock=new Array(w.possibleCount);
	w[k].upBlock=new Array(w.possibleCount);
	w[k].downBlock=new Array(w.possibleCount);
	w[k].x=new Array(w.possibleCount);
	w[k].y=new Array(w.possibleCount);
	w[k].count=new Array(w.possibleCount);
	w[k].countTime=new Array(w.possibleCount);
	for(var a=0;a<w[k].maxPossibleCount;a++){
		w[k].leftLen[a]=0;
		w[k].rightLen[a]=0;
		w[k].upLen[a]=0;
		w[k].downLen[a]=0;
		w[k].leftBlock[a]=0;
		w[k].rightBlock[a]=0;
		w[k].upBlock[a]=0;
		w[k].downBlock[a]=0;
		w[k].x[a]=0;
		w[k].y[a]=0;
		w[k].count[a]=0;
		w[k].countTime[a]=0;
	}
	for(var a=0;a<w[k].maxLen;a++){
		w[k].leftLen[a]=0;
		w[k].rightLen[a]=0;
		w[k].upLen[a]=0;
		w[k].downLen[a]=0;
	}
	w[k].image=new Image();
	w[k].image.src=("http://s.nx.com/S2/game/ca/2009/event/130626_make/img1.gif");
	w[k].image2=new Image();
	w[k].image2.src=("https://diotheworld.github.io/image/water.jpg");
}

function charBlock(Y,X,k){ return blockMap[0][y[k]/oneBlock+1+Y][x[k]/oneBlock+1+X]; }
function balloonBlock(Y,X,k,j){ return blockMap[0][w[j].y[k]+Y][w[j].x[k]+X]; }

function waterBallon(k,x,y,j){
	playMusic2("balloonSet");
	w[j].count[k]=1;
	w[j].x[k]=Math.round(x/oneBlock)+1;
	w[j].y[k]=Math.round(y/oneBlock)+1;
	blockMap[0][w[j].y[k]][w[j].x[k]]=(10000*(j+1)+1+w[j].order);
	w[j].leftBlock[k]=0;
	w[j].rightBlock[k]=0;
	w[j].upBlock[k]=0;
	w[j].downBlock[k]=0;
	w[j].order=w[j].order+1;
	if(w[j].order==w[j].possibleCount) w[j].order=0;
}
var leftSet=[0,0],rightSet=[0,0],upSet=[0,0],downSet=[0,0];
var llll=[0,0],rrrr=[0,0],uuuu=[0,0],dddd=[0,0];
function ifLeftKeyDown(){
	sight[0]=0;
	if(leftSet[0]==0){	leftSet[0]=1; }
}
function ifRightKeyDown(){
	sight[0]=2;
	if(rightSet[0]==0){ rightSet[0]=1; }
}
function ifUpKeyDown(){
	sight[0]=1;
	if(upSet[0]==0){ upSet[0]=1; }
}
function ifDownKeyDown(){
	sight[0]=3;
	if(downSet[0]==0){	downSet[0]=1; }
}
function ifLeftKeyDown2(){
	sight[1]=0;
	if(leftSet[1]==0){	leftSet[1]=1; }
}
function ifRightKeyDown2(){
	sight[1]=2;
	if(rightSet[1]==0){ rightSet[1]=1; }
}
function ifUpKeyDown2(){
	sight[1]=1;
	if(upSet[1]==0){ upSet[1]=1; }
}
function ifDownKeyDown2(){
	sight[1]=3;
	if(downSet[1]==0){	downSet[1]=1; }
}

function drawInformation(){
	ctx.font="50px Comic Sans MS";
	ctx.fillStyle = "red";
	ctx.fillText(mouseX+" "+w[0].upLen[0]+" "+w[0].countTime[1]+" "+w[0].countTime[2]+" "+w[0].speedCount,10,50);
}

function start(){
	setInterval(update,0);
	window.addEventListener('keydown',function(e){ map[e.keyCode]=true; })
	window.addEventListener('keyup',function(e){ map[e.keyCode]=false; })
	document.getElementById("can").addEventListener('mousemove', function (e) { mouseX = e.offsetX; mouseY = e.offsetY; })
}
var preB=1;
function update(){
<!--배경음악 설정.
playMusic("Camp");
<!--배경이미지 좌표 설정
if(x[0]<=600-halfBlock){ backgroundx=0; charx=x[0]; }
else if(x[0]>600-halfBlock&&x[0]<=mw-(600+halfBlock)){ backgroundx=-x[0]+600-halfBlock; charx=600-halfBlock; }
else if(x[0]>mw-(600+halfBlock)){ backgroundx=-mw+1200; charx=x[0]-mw+1200; }
if(y[0]<=400-halfBlock){ backgroundy=0; chary=y[0]; }
else if(y[0]>400-halfBlock&&y[0]<=mh-(400+halfBlock)){ backgroundy=-y[0]+400-halfBlock; chary=400-halfBlock; }
else if(y[0]>mh-(400+halfBlock)){ backgroundy=-mh+800; chary=y[0]-mh+800; }
<!--대화중이라면 움직일 수 없음
if(dialogueSet==0){
	if((x[0]%oneBlock==0)&&(y[0]%oneBlock)==0){
		if((sight[0]==1)||(sight[0]==3)){
			if(map[37]){
				sight[0]=0;
				if(map[38]) {
					if(((charBlock(-1,-1,0)/200)<1)&&((charBlock(-1,0,0)/200)<1)&&((charBlock(0,-1,0)/200)<1)){ ifLeftKeyDown(); ifUpKeyDown(); }
					else if((charBlock(0,-1,0)/200)<1) ifLeftKeyDown();
					else if((charBlock(-1,0,0)/200)<1) ifUpKeyDown();
				}
				else if(map[40]) {
					if(((charBlock(0,-1,0)/200)<1)&&((charBlock(+1,-1,0)/200)<1)&&((charBlock(+1,0,0)/200)<1)){ ifLeftKeyDown(); ifDownKeyDown(); }
					else if((charBlock(0,-1,0)/200)<1) ifLeftKeyDown();
					else if((charBlock(+1,0,0)/200)<1) ifDownKeyDown();
				}
				else if((charBlock(0,-1,0)/200)<1) ifLeftKeyDown();
			}
			else if(map[39]){
				sight[0]=2;
				if(map[38]) { 
					if(((charBlock(-1,0,0)/200)<1)&&((charBlock(-1,+1,0)/200)<1)&&((charBlock(0,+1,0)/200)<1)){ ifRightKeyDown(); ifUpKeyDown(); }
					else if((charBlock(0,+1,0)/200)<1) ifRightKeyDown();
					else if((charBlock(-1,0,0)/200)<1) ifUpKeyDown();
				}
				else if(map[40]) { 
					if(((charBlock(0,+1,0)/200)<1)&&((charBlock(+1,0,0)/200)<1)&&((charBlock(+1,+1,0)/200)<1)){ ifRightKeyDown(); ifDownKeyDown(); }
					else if((charBlock(0,+1,0)/200)<1) ifRightKeyDown();
					else if((charBlock(+1,0,0)/200)<1) ifDownKeyDown();
				}
				else if((charBlock(0,+1,0)/200)<1) ifRightKeyDown();
			}
			else if(map[38]) { sight[0]=1; if((charBlock(-1,0,0)/200)<1) ifUpKeyDown(); }
			else if(map[40]) { sight[0]=3; if((charBlock(+1,0,0)/200)<1) ifDownKeyDown(); }
		}
		else if((sight[0]==0)||(sight[0]==2)){
			if(map[38]){
				sight[0]=1;
				if(map[37]) {
					if(((charBlock(-1,-1,0)/200)<1)&&((charBlock(-1,0,0)/200)<1)&&((charBlock(0,-1,0)/200)<1)){ ifUpKeyDown(); ifLeftKeyDown(); }
					else if((charBlock(-1,0,0)/200)<1) ifUpKeyDown();
					else if((charBlock(0,-1,0)/200)<1) ifLeftKeyDown();
				}
				else if(map[39]) {
					if(((charBlock(-1,0,0)/200)<1)&&((charBlock(-1,+1,0)/200)<1)&&((charBlock(0,+1,0)/200)<1)){ ifUpKeyDown(); ifRightKeyDown(); }
					else if((charBlock(-1,0,0)/200)<1) ifUpKeyDown();
					else if((charBlock(0,+1,0)/200)<1) ifRightKeyDown();
				}
				else if((charBlock(-1,0,0)/200)<1) ifUpKeyDown();
			}
			else if(map[40]){
				sight[0]=3;
				if(map[37]) { 
					if(((charBlock(0,-1,0)/200)<1)&&((charBlock(+1,-1,0)/200)<1)&&((charBlock(+1,0,0)/200)<1)){ ifDownKeyDown(); ifLeftKeyDown(); }
					else if((charBlock(+1,0,0)/200)<1) ifDownKeyDown();
					else if((charBlock(0,-1,0)/200)<1) ifLeftKeyDown();
				}
				else if(map[39]) { 
					if(((charBlock(0,+1,0)/200)<1)&&((charBlock(+1,0,0)/200)<1)&&((charBlock(+1,+1,0)/200)<1)){ ifDownKeyDown(); ifRightKeyDown(); }
					else if((charBlock(+1,0,0)/200<1)) ifDownKeyDown();
					else if((charBlock(0,+1,0)/200<1)) ifRightKeyDown();
				}
				else if((charBlock(+1,0,0)/200)<1) ifDownKeyDown();
			}
			else if(map[37]) { sight[0]=0; if((charBlock(0,-1,0)/200)<1) ifLeftKeyDown(); }
			else if(map[39]) { sight[0]=2; if((charBlock(0,+1,0)/200)<1) ifRightKeyDown(); }
		}
	}
	if((x[1]%oneBlock==0)&&(y[1]%oneBlock)==0){
		if((sight[1]==1)||(sight[1]==3)){
			if(map[83]){
				sight[1]=0;
				if(map[69]) {
					if(((charBlock(-1,-1,1)/200)<1)&&((charBlock(-1,0,1)/200)<1)&&((charBlock(0,-1,1)/200)<1)){ ifLeftKeyDown2(); ifUpKeyDown2(); }
					else if((charBlock(0,-1,1)/200)<1) ifLeftKeyDown2();
					else if((charBlock(-1,0,1)/200)<1) ifUpKeyDown2();
				}
				else if(map[68]) {
					if(((charBlock(0,-1,1)/200)<1)&&((charBlock(+1,-1,1)/200)<1)&&((charBlock(+1,0,1)/200)<1)){ ifLeftKeyDown2(); ifDownKeyDown2(); }
					else if((charBlock(0,-1,1)/200)<1) ifLeftKeyDown2();
					else if((charBlock(+1,0,1)/200)<1) ifDownKeyDown2();
				}
				else if((charBlock(0,-1,1)/200)<1) ifLeftKeyDown2();
			}
			else if(map[70]){
				sight[1]=2;
				if(map[69]) { 
					if(((charBlock(-1,0,1)/200)<1)&&((charBlock(-1,+1,1)/200)<1)&&((charBlock(0,+1,1)/200)<1)){ ifRightKeyDown2(); ifUpKeyDown2(); }
					else if((charBlock(0,+1,1)/200)<1) ifRightKeyDown2();
					else if((charBlock(-1,0,1)/200)<1) ifUpKeyDown2();
				}
				else if(map[68]) { 
					if(((charBlock(0,+1,1)/200)<1)&&((charBlock(+1,0,1)/200)<1)&&((charBlock(+1,+1,1)/200)<1)){ ifRightKeyDown2(); ifDownKeyDown2(); }
					else if((charBlock(0,+1,1)/200)<1) ifRightKeyDown2();
					else if((charBlock(+1,0,1)/200)<1) ifDownKeyDown2();
				}
				else if((charBlock(0,+1,1)/200)<1) ifRightKeyDown2();
			}
			else if(map[69]) { sight[1]=1; if((charBlock(-1,0,1)/200)<1) ifUpKeyDown2(); }
			else if(map[68]) { sight[1]=3; if((charBlock(+1,0,1)/200)<1) ifDownKeyDown2(); }
		}
		else if((sight[1]==0)||(sight[1]==2)){
			if(map[69]){
				sight[1]=1;
				if(map[83]) {
					if(((charBlock(-1,-1,1)/200)<1)&&((charBlock(-1,0,1)/200)<1)&&((charBlock(0,-1,1)/200)<1)){ ifUpKeyDown2(); ifLeftKeyDown2(); }
					else if((charBlock(-1,0,1)/200)<1) ifUpKeyDown2();
					else if((charBlock(0,-1,1)/200)<1) ifLeftKeyDown2();
				}
				else if(map[70]) {
					if(((charBlock(-1,0,1)/200)<1)&&((charBlock(-1,+1,1)/200)<1)&&((charBlock(0,+1,1)/200)<1)){ ifUpKeyDown2(); ifRightKeyDown2(); }
					else if((charBlock(-1,0,1)/200)<1) ifUpKeyDown2();
					else if((charBlock(0,+1,1)/200)<1) ifRightKeyDown2();
				}
				else if((charBlock(-1,0,1)/200)<1) ifUpKeyDown2();
			}
			else if(map[68]){
				sight[1]=3;
				if(map[83]) { 
					if(((charBlock(0,-1,1)/200)<1)&&((charBlock(+1,-1,1)/200)<1)&&((charBlock(+1,0,1)/200)<1)){ ifDownKeyDown2(); ifLeftKeyDown2(); }
					else if((charBlock(+1,0,1)/200)<1) ifDownKeyDown2();
					else if((charBlock(0,-1,1)/200)<1) ifLeftKeyDown2();
				}
				else if(map[70]) { 
					if(((charBlock(0,+1,1)/200)<1)&&((charBlock(+1,0,1)/200)<1)&&((charBlock(+1,+1,1)/200)<1)){ ifDownKeyDown2(); ifRightKeyDown2(); }
					else if((charBlock(+1,0,1)/200<1)) ifDownKeyDown2();
					else if((charBlock(0,+1,1)/200<1)) ifRightKeyDown2();
				}
				else if((charBlock(+1,0,1)/200)<1) ifDownKeyDown2();
			}
			else if(map[83]) { sight[1]=0; if((charBlock(0,-1,1)/200)<1) ifLeftKeyDown2(); }
			else if(map[70]) { sight[1]=2; if((charBlock(0,+1,1)/200)<1) ifRightKeyDown2(); }
		}
	}
}
for(kk=0;kk<2;kk++){//상하좌우 움직이기
	if(leftSet[kk]){
		if(w[kk].inBalloon){
			x[kk]-=w[kk].inBalloonSpeed;
			llll[kk]+=w[kk].inBalloonSpeed;
		}
		else {
			x[kk]-=w[kk].speed[w[kk].speedCount];
			llll[kk]+=w[kk].speed[w[kk].speedCount];
		}
		if(llll[kk]>=oneBlock) { x[kk]=Math.round(x[kk]/oneBlock)*oneBlock; llll[kk]=0; leftSet[kk]=0; }
	}
	else if(rightSet[kk]){
		if(w[kk].inBalloon){
			x[kk]+=w[kk].inBalloonSpeed;
			rrrr[kk]+=w[kk].inBalloonSpeed;
		}
		else {
			x[kk]+=w[kk].speed[w[kk].speedCount];
			rrrr[kk]+=w[kk].speed[w[kk].speedCount];
		}
		if(rrrr[kk]>=oneBlock) { x[kk]=Math.round(x[kk]/oneBlock)*oneBlock; rrrr[kk]=0; rightSet[kk]=0; }
	}
	if(upSet[kk]){
		if(w[kk].inBalloon){
			y[kk]-=w[kk].inBalloonSpeed;
			uuuu[kk]+=w[kk].inBalloonSpeed;
		}
		else {
			y[kk]-=w[kk].speed[w[kk].speedCount];
			uuuu[kk]+=w[kk].speed[w[kk].speedCount];
		}
		if(uuuu[kk]>=oneBlock) { y[kk]=Math.round(y[kk]/oneBlock)*oneBlock; uuuu[kk]=0; upSet[kk]=0; }
	}
	else if(downSet[kk]){
		if(w[kk].inBalloon){
			y[kk]+=w[kk].inBalloonSpeed;
			dddd[kk]+=w[kk].inBalloonSpeed;
		}
		else {
			y[kk]+=w[kk].speed[w[kk].speedCount];
			dddd[kk]+=w[kk].speed[w[kk].speedCount];
		}
		if(dddd[kk]>=oneBlock) { y[kk]=Math.round(y[kk]/oneBlock)*oneBlock; dddd[kk]=0; downSet[kk]=0; }
	}
}
if(blockMap[0][Math.round(y[0]/oneBlock)+1][Math.round(x[0]/oneBlock)+1]==1)w[0].inBalloon=1;
if(blockMap[0][Math.round(y[1]/oneBlock)+1][Math.round(x[1]/oneBlock)+1]==1)w[1].inBalloon=1;
if((w[0].inBalloon==0)&&(w[1].inBalloon==1)){
	if((x[0]<x[1]+oneBlock)&&(x[0]+oneBlock>x[1])&&(y[0]<y[1]+oneBlock)&&(y[0]+oneBlock>y[1])) alert("1p win");//1p우승
}
if((w[0].inBalloon==1)&&(w[1].inBalloon==0)){
	if((x[1]<x[0]+oneBlock)&&(x[1]+oneBlock>x[0])&&(y[1]<y[0]+oneBlock)&&(y[1]+oneBlock>y[0])) alert("1p win");//1p우승
}
for(kk=0;kk<2;kk++){//아이템 먹는다면?
	if((x[kk]%oneBlock==0)&&(y[kk]%oneBlock==0)&&(w[kk].inBalloon==0)){ 
		if((blockMap[0][y[kk]/oneBlock+1][x[kk]/oneBlock+1]>=100)&&(blockMap[0][y[kk]/oneBlock+1][x[kk]/oneBlock+1]<=102)){
			playMusic2("item");
			if(blockMap[0][y[kk]/oneBlock+1][x[kk]/oneBlock+1]==100) { 
				for(var a=0;a<obstacleMap[0].length;a++) { if(((y[kk]/oneBlock+1)==obstacleMap[0][a].y)&&((x[kk]/oneBlock+1)==obstacleMap[0][a].x)) {obstacleBoom(a)} }
				if(w[kk].speedCount<(w[kk].speed.length-1)) w[kk].speedCount+=1; 
			}
			else if(blockMap[0][y[kk]/oneBlock+1][x[kk]/oneBlock+1]==101) { 
				for(var a=0;a<obstacleMap[0].length;a++) { if(((y[kk]/oneBlock+1)==obstacleMap[0][a].y)&&((x[kk]/oneBlock+1)==obstacleMap[0][a].x)) {obstacleBoom(a)} }
				if(w[kk].possibleCount<w[kk].maxPossibleCount) w[kk].possibleCount+=1; 
			}
			else if(blockMap[0][y[kk]/oneBlock+1][x[kk]/oneBlock+1]==102) { 
				for(var a=0;a<obstacleMap[0].length;a++) { if(((y[kk]/oneBlock+1)==obstacleMap[0][a].y)&&((x[kk]/oneBlock+1)==obstacleMap[0][a].x)) {obstacleBoom(a)} }
				if(w[kk].len<w[kk].maxLen) w[kk].len+=1; 
			}
		}
	}
}
ctx.drawImage(background1,backgroundx,backgroundy,mw,mh);
drawBuildings();
drawObstacles();
drawNpcs();
if(dialogueSet==0){
	if(map[188]){
		ctx.drawImage(ff,charx-120,chary,120,oneBlock);
	}<!--<-->
	if(map[190]&&(w[0].inBalloon==0)){
		if((w[0].count[w[0].order]==0)&&(blockMap[0][Math.round(y[0]/oneBlock)+1][Math.round(x[0]/oneBlock)+1]==0)){
			waterBallon(w[0].order,x[0],y[0],0);
		}
	}<!-->-->
	if(map[191]){ w[0].inBalloon=0; }<!--?-->
	if(map[65]&&(w[1].inBalloon==0)){
		if((w[1].count[w[1].order]==0)&&(blockMap[0][Math.round(y[1]/oneBlock)+1][Math.round(x[1]/oneBlock)+1]==0)){
			waterBallon(w[1].order,x[1],y[1],1);
		}
	}<!--a-->
	if(map[81]){ w[1].inBalloon=0; }<!--q-->
}
for(kk=0;kk<2;kk++){<!--물풍선 각각 시간초 증가
	for(var i=0;i<w[kk].possibleCount;i++){
		if(w[kk].count[i]) { w[kk].countTime[i]+=10;}
	}
}
preB=1;
while(preB){//물풍선 같은줄에 있으면 한꺼번에 터지게
preB=0;
	for(var i=0;i<w[0].possibleCount;i++){
		if(w[0].count[i])if(w[0].countTime[i]==3000){
			blockMap[0][w[0].y[i]][w[0].x[i]]=1;
			for(aa=1;aa<=w[0].len;aa++){
				if(balloonBlock(0,-aa,i,0)==1){ break; }
				else if(balloonBlock(0,-aa,i,0)==2147483647){ break; }
				else if(balloonBlock(0,-aa,i,0)==10000){ break; }
				else if((balloonBlock(0,-aa,i,0)>=10001)&&(balloonBlock(0,-aa,i,0)<=(10001+w[0].maxPossibleCount))){
					w[0].countTime[blockMap[0][w[0].y[i]][w[0].x[i]-aa]-10001]=3000;  preB=1; blockMap[0][w[0].y[i]][w[0].x[i]-aa]=1; 
					break;
				}//물풍선일때 해야될 것
				else if((balloonBlock(0,-aa,i,0)>=20001)&&(balloonBlock(0,-aa,i,0)<=(20001+w[1].maxPossibleCount))){
					w[1].countTime[blockMap[0][w[0].y[i]][w[0].x[i]-aa]-20001]=3000;  preB=1; blockMap[0][w[0].y[i]][w[0].x[i]-aa]=1; 
					break;
				}//물풍선일때 해야될 것
			}
			for(bb=1;bb<=w[0].len;bb++){
				if(balloonBlock(0,bb,i,0)==1){ break; }
				else if(balloonBlock(0,bb,i,0)==2147483647){ break; }
				else if(balloonBlock(0,bb,i,0)==10000){ break; }
				else if((balloonBlock(0,bb,i,0)>=10001)&&(balloonBlock(0,bb,i,0)<=(10001+w[0].maxPossibleCount))){
					w[0].countTime[blockMap[0][w[0].y[i]][w[0].x[i]+bb]-10001]=3000;  preB=1; blockMap[0][w[0].y[i]][w[0].x[i]+bb]=1; 
					break;
				}//물풍선일때 해야될 것
				else if((balloonBlock(0,bb,i,0)>=20001)&&(balloonBlock(0,bb,i,0)<=(20001+w[1].maxPossibleCount))){
					w[1].countTime[blockMap[0][w[0].y[i]][w[0].x[i]+bb]-20001]=3000;  preB=1; blockMap[0][w[0].y[i]][w[0].x[i]+bb]=1; 
					break;
				}//물풍선일때 해야될 것
			}
			for(cc=1;cc<=w[0].len;cc++){
				if(balloonBlock(-cc,0,i,0)==1){ break; }
				else if(balloonBlock(-cc,0,i,0)==2147483647){ break; }
				else if(balloonBlock(-cc,0,i,0)==10000){ break; }
				else if((balloonBlock(-cc,0,i,0)>=10001)&&(balloonBlock(-cc,0,i,0)<=(10001+w[0].maxPossibleCount))){
					w[0].countTime[blockMap[0][w[0].y[i]-cc][w[0].x[i]]-10001]=3000;  preB=1; blockMap[0][w[0].y[i]-cc][w[0].x[i]]=1; 
					break;
				}//물풍선일때 해야될 것
				else if((balloonBlock(-cc,0,i,0)>=20001)&&(balloonBlock(-cc,0,i,0)<=(20001+w[1].maxPossibleCount))){
					w[1].countTime[blockMap[0][w[0].y[i]-cc][w[0].x[i]]-20001]=3000;  preB=1; blockMap[0][w[0].y[i]-cc][w[0].x[i]]=1; 
					break;
				}//물풍선일때 해야될 것
			}
			for(dd=1;dd<=w[0].len;dd++){
				if(balloonBlock(dd,0,i,0)==1){ break; }
				else if(balloonBlock(dd,0,i,0)==2147483647){ break; }
				else if(balloonBlock(dd,0,i,0)==10000){ break; }
				else if((balloonBlock(dd,0,i,0)>=10001)&&(balloonBlock(dd,0,i,0)<=(10001+w[0].maxPossibleCount))){
					w[0].countTime[blockMap[0][w[0].y[i]+dd][w[0].x[i]]-10001]=3000;  preB=1; blockMap[0][w[0].y[i]+dd][w[0].x[i]]=1; 
					break;
				}//물풍선일때 해야될 것
				else if((balloonBlock(dd,0,i,0)>=20001)&&(balloonBlock(dd,0,i,0)<=(20001+w[1].maxPossibleCount))){
					w[1].countTime[blockMap[0][w[0].y[i]+dd][w[0].x[i]]-20001]=3000;  preB=1; blockMap[0][w[0].y[i]+dd][w[0].x[i]]=1; 
					break;
				}//물풍선일때 해야될 것
			}
		}
	}
	for(var i=0;i<w[1].possibleCount;i++){
		if(w[1].count[i])if(w[1].countTime[i]==3000){
			blockMap[0][w[1].y[i]][w[1].x[i]]=1;
			for(aa=1;aa<=w[1].len;aa++){
				if(balloonBlock(0,-aa,i,1)==1){ break; }
				else if(balloonBlock(0,-aa,i,1)==2147483647){ break; }
				else if(balloonBlock(0,-aa,i,1)==10000){ break; }
				else if((balloonBlock(0,-aa,i,1)>=20001)&&(balloonBlock(0,-aa,i,1)<=(20001+w[1].maxPossibleCount))){
					w[1].countTime[blockMap[0][w[1].y[i]][w[1].x[i]-aa]-20001]=3000;  preB=1; blockMap[0][w[1].y[i]][w[1].x[i]-aa]=1; 
					break;
				}//물풍선일때 해야될 것
				else if((balloonBlock(0,-aa,i,1)>=10001)&&(balloonBlock(0,-aa,i,1)<=(10001+w[0].maxPossibleCount))){
					w[0].countTime[blockMap[0][w[1].y[i]][w[1].x[i]-aa]-10001]=3000;  preB=1; blockMap[0][w[1].y[i]][w[1].x[i]-aa]=1; 
					break;
				}//물풍선일때 해야될 것
			}
			for(bb=1;bb<=w[1].len;bb++){
				if(balloonBlock(0,bb,i,1)==1){ break; }
				else if(balloonBlock(0,bb,i,1)==2147483647){ break; }
				else if(balloonBlock(0,bb,i,1)==10000){ break; }
				else if((balloonBlock(0,bb,i,1)>=20001)&&(balloonBlock(0,bb,i,1)<=(20001+w[1].maxPossibleCount))){
					w[1].countTime[blockMap[0][w[1].y[i]][w[1].x[i]+bb]-20001]=3000;  preB=1; blockMap[0][w[1].y[i]][w[1].x[i]+bb]=1; 
					break;
				}//물풍선일때 해야될 것
				else if((balloonBlock(0,bb,i,1)>=10001)&&(balloonBlock(0,bb,i,1)<=(10001+w[0].maxPossibleCount))){
					w[0].countTime[blockMap[0][w[1].y[i]][w[1].x[i]+bb]-10001]=3000;  preB=1; blockMap[0][w[1].y[i]][w[1].x[i]+bb]=1; 
					break;
				}//물풍선일때 해야될 것
			}
			for(cc=1;cc<=w[1].len;cc++){
				if(balloonBlock(-cc,0,i,1)==1){ break; }
				else if(balloonBlock(-cc,0,i,1)==2147483647){ break; }
				else if(balloonBlock(-cc,0,i,1)==10000){ break; }
				else if((balloonBlock(-cc,0,i,1)>=20001)&&(balloonBlock(-cc,0,i,1)<=(20001+w[1].maxPossibleCount))){
					w[1].countTime[blockMap[0][w[1].y[i]-cc][w[1].x[i]]-20001]=3000;  preB=1; blockMap[0][w[1].y[i]-cc][w[1].x[i]]=1; 
					break;
				}//물풍선일때 해야될 것
				else if((balloonBlock(-cc,0,i,1)>=10001)&&(balloonBlock(-cc,0,i,1)<=(10001+w[0].maxPossibleCount))){
					w[0].countTime[blockMap[0][w[1].y[i]-cc][w[1].x[i]]-10001]=3000;  preB=1; blockMap[0][w[1].y[i]-cc][w[1].x[i]]=1; 
					break;
				}//물풍선일때 해야될 것
			}
			for(dd=1;dd<=w[1].len;dd++){
				if(balloonBlock(dd,0,i,1)==1){ break; }
				else if(balloonBlock(dd,0,i,1)==2147483647){ break; }
				else if(balloonBlock(dd,0,i,1)==10000){ break; }
				else if((balloonBlock(dd,0,i,1)>=20001)&&(balloonBlock(dd,0,i,1)<=(20001+w[1].maxPossibleCount))){
					w[1].countTime[blockMap[0][w[1].y[i]+dd][w[1].x[i]]-20001]=3000;  preB=1; blockMap[0][w[1].y[i]+dd][w[1].x[i]]=1; 
					break;
				}//물풍선일때 해야될 것
				else if((balloonBlock(dd,0,i,1)>=10001)&&(balloonBlock(dd,0,i,1)<=(10001+w[0].maxPossibleCount))){
					w[0].countTime[blockMap[0][w[1].y[i]+dd][w[1].x[i]]-10001]=3000;  preB=1; blockMap[0][w[1].y[i]+dd][w[1].x[i]]=1; 
					break;
				}//물풍선일때 해야될 것
			}
		}
	}
}
for(kk=0;kk<2;kk++){<!--물풍선 터지는것
	for(var i=0;i<w[kk].possibleCount;i++){
		if(w[kk].count[i]){
			if(w[kk].countTime[i]<3000) ctx.drawImage(w[kk].image,backgroundx+(w[kk].x[i]-1)*oneBlock-27*oneBlock/40,backgroundy+(w[kk].y[i]-1)*oneBlock-36*oneBlock/40,90*oneBlock/40,90*oneBlock/40);
			else if(w[kk].countTime[i]==3000){
				playMusic2("balloonBoom");
				blockMap[0][w[kk].y[i]][w[kk].x[i]]=1;
				for(w[kk].leftLen[i]=1;w[kk].leftLen[i]<=w[kk].len;w[kk].leftLen[i]++){
					if(balloonBlock(0,-w[kk].leftLen[i],i,kk)==2147483647){ w[kk].leftBlock[i]=2147483647; break; }
					else if(balloonBlock(0,-w[kk].leftLen[i],i,kk)==1){ w[kk].leftBlock[i]=1; break; }
					else if((balloonBlock(0,-w[kk].leftLen[i],i,kk)>=3000)&&(balloonBlock(0,-w[kk].leftLen[i],i,kk)<=3000+buildingMap[0].length)){}	//해야됨
					else if((balloonBlock(0,-w[kk].leftLen[i],i,kk)>=100)&&(balloonBlock(0,-w[kk].leftLen[i],i,kk)<110)){	
						for(var a=0;a<obstacleMap[0].length;a++){ if((w[kk].y[i]==obstacleMap[0][a].y)&&(w[kk].x[i]-w[kk].leftLen[i]==obstacleMap[0][a].x)&&(obstacleMap[0][a].existence)) {obstacleBoom(a); break;} }
					}
					else if(balloonBlock(0,-w[kk].leftLen[i],i,kk)==10000){ w[kk].leftBlock[i]=10000; break; }
				}
				for(w[kk].rightLen[i]=1;w[kk].rightLen[i]<=w[kk].len;w[kk].rightLen[i]++){
					if(balloonBlock(0,w[kk].rightLen[i],i,kk)==2147483647){ w[kk].rightBlock[i]=2147483647; break; }
					else if(balloonBlock(0,w[kk].rightLen[i],i,kk)==1){ w[kk].rightBlock[i]=1; break; }
					else if((balloonBlock(0,w[kk].rightLen[i],i,kk)>=100)&&(balloonBlock(0,w[kk].rightLen[i],i,kk)<110)){	
						for(var a=0;a<obstacleMap[0].length;a++){ if((w[kk].y[i]==obstacleMap[0][a].y)&&(w[kk].x[i]+w[kk].rightLen[i]==obstacleMap[0][a].x)&&(obstacleMap[0][a].existence)) {obstacleBoom(a); break;} }
					}
					else if(balloonBlock(0,w[kk].rightLen[i],i,kk)==10000){ w[kk].rightBlock[i]=10000; break; }
				}
				for(w[kk].upLen[i]=1;w[kk].upLen[i]<=w[kk].len;w[kk].upLen[i]++){
					if(balloonBlock(-w[kk].upLen[i],0,i,kk)==2147483647){ w[kk].upBlock[i]=2147483647; break; }
					else if(balloonBlock(-w[kk].upLen[i],0,i,kk)==1){ w[kk].upBlock[i]=1; break; }
					else if((balloonBlock(-w[kk].upLen[i],0,i,kk)>=100)&&(balloonBlock(-w[kk].upLen[i],0,i,kk)<110)){
						for(var a=0;a<obstacleMap[0].length;a++){ if((w[kk].y[i]-w[kk].upLen[i]==obstacleMap[0][a].y)&&(w[kk].x[i]==obstacleMap[0][a].x)&&(obstacleMap[0][a].existence)) {obstacleBoom(a); break;} }
					}
					else if(balloonBlock(-w[kk].upLen[i],0,i,kk)==10000){ w[kk].upBlock[i]=10000; break; }
				}
				for(w[kk].downLen[i]=1;w[kk].downLen[i]<=w[kk].len;w[kk].downLen[i]++){
					if(balloonBlock(w[kk].downLen[i],0,i,kk)==2147483647){ w[kk].downBlock[i]=2147483647; break; }
					else if(balloonBlock(w[kk].downLen[i],0,i,kk)==1){ w[kk].downBlock[i]=1; break; }
					else if((balloonBlock(w[kk].downLen[i],0,i,kk)>=100)&&(balloonBlock(w[kk].downLen[i],0,i,kk)<110)){
						for(var a=0;a<obstacleMap[0].length;a++){ if((w[kk].y[i]+w[kk].downLen[i]==obstacleMap[0][a].y)&&(w[kk].x[i]==obstacleMap[0][a].x)&&(obstacleMap[0][a].existence)) {obstacleBoom(a); break;} }
					}
					else if(balloonBlock(w[kk].downLen[i],0,i,kk)==10000){ w[kk].downBlock[i]=10000; break; }
				}
				ctx.drawImage(w[kk].image2,backgroundx+(w[kk].x[i]-1)*oneBlock,backgroundy+(w[kk].y[i]-1)*oneBlock,oneBlock,oneBlock);
				for(var n=1;n<w[kk].leftLen[i];n++){ blockMap[0][w[kk].y[i]][w[kk].x[i]-n]=1; ctx.drawImage(w[kk].image2,backgroundx+(w[kk].x[i]-1-n)*oneBlock,backgroundy+(w[kk].y[i]-1)*oneBlock,oneBlock,oneBlock); }
				for(var n=1;n<w[kk].rightLen[i];n++){ blockMap[0][w[kk].y[i]][w[kk].x[i]+n]=1; ctx.drawImage(w[kk].image2,backgroundx+(w[kk].x[i]-1+n)*oneBlock,backgroundy+(w[kk].y[i]-1)*oneBlock,oneBlock,oneBlock); }
				for(var n=1;n<w[kk].upLen[i];n++){ blockMap[0][w[kk].y[i]-n][w[kk].x[i]]=1; ctx.drawImage(w[kk].image2,backgroundx+(w[kk].x[i]-1)*oneBlock,backgroundy+(w[kk].y[i]-1-n)*oneBlock,oneBlock,oneBlock); }
				for(var n=1;n<w[kk].downLen[i];n++){ blockMap[0][w[kk].y[i]+n][w[kk].x[i]]=1; ctx.drawImage(w[kk].image2,backgroundx+(w[kk].x[i]-1)*oneBlock,backgroundy+(w[kk].y[i]-1+n)*oneBlock,oneBlock,oneBlock); }
			}
			else if((w[kk].countTime[i]>3000)&&(w[kk].countTime[i]<=4000)){
				ctx.drawImage(w[kk].image2,backgroundx+(w[kk].x[i]-1)*oneBlock,backgroundy+(w[kk].y[i]-1)*oneBlock,oneBlock,oneBlock);
				for(var n=1;n<w[kk].leftLen[i];n++){ ctx.drawImage(w[kk].image2,backgroundx+(w[kk].x[i]-1-n)*oneBlock,backgroundy+(w[kk].y[i]-1)*oneBlock,oneBlock,oneBlock); }
				for(var n=1;n<w[kk].rightLen[i];n++){ ctx.drawImage(w[kk].image2,backgroundx+(w[kk].x[i]-1+n)*oneBlock,backgroundy+(w[kk].y[i]-1)*oneBlock,oneBlock,oneBlock); }
				for(var n=1;n<w[kk].upLen[i];n++){ ctx.drawImage(w[kk].image2,backgroundx+(w[kk].x[i]-1)*oneBlock,backgroundy+(w[kk].y[i]-1-n)*oneBlock,oneBlock,oneBlock); }
				for(var n=1;n<w[kk].downLen[i];n++){ ctx.drawImage(w[kk].image2,backgroundx+(w[kk].x[i]-1)*oneBlock,backgroundy+(w[kk].y[i]-1+n)*oneBlock,oneBlock,oneBlock); }
			}
			else{ 
				for(var n=1;n<w[kk].leftLen[i];n++){ blockMap[0][w[kk].y[i]][w[kk].x[i]-n]=0; }
				for(var n=1;n<w[kk].rightLen[i];n++){ blockMap[0][w[kk].y[i]][w[kk].x[i]+n]=0; }
				for(var n=1;n<w[kk].upLen[i];n++){ blockMap[0][w[kk].y[i]-n][w[kk].x[i]]=0; }
				for(var n=1;n<w[kk].downLen[i];n++){ blockMap[0][w[kk].y[i]+n][w[kk].x[i]]=0; }
				if(w[kk].leftBlock[i]==10000)if(balloonBlock(0,-w[kk].leftLen[i],i,kk)==10000){
					for(var a=0;a<obstacleMap[0].length;a++){ if((w[kk].y[i]==obstacleMap[0][a].y)&&(w[kk].x[i]-w[kk].leftLen[i]==obstacleMap[0][a].x)&&(obstacleMap[0][a].existence)) {obstacleBoom(a); break;} }
				}
				if(w[kk].rightBlock[i]==10000)if(balloonBlock(0,w[kk].rightLen[i],i,kk)==10000){
					for(var a=0;a<obstacleMap[0].length;a++){ if((w[kk].y[i]==obstacleMap[0][a].y)&&(w[kk].x[i]+w[kk].rightLen[i]==obstacleMap[0][a].x)&&(obstacleMap[0][a].existence)) {obstacleBoom(a); break;} }
				}
				if(w[kk].upBlock[i]==10000)if(balloonBlock(-w[kk].upLen[i],0,i,kk)==10000){
					for(var a=0;a<obstacleMap[0].length;a++){ if((w[kk].y[i]-w[kk].upLen[i]==obstacleMap[0][a].y)&&(w[kk].x[i]==obstacleMap[0][a].x)&&(obstacleMap[0][a].existence)) {obstacleBoom(a); break;} }
				}
				if(w[kk].downBlock[i]==10000)if(balloonBlock(w[kk].downLen[i],0,i,kk)==10000){
					for(var a=0;a<obstacleMap[0].length;a++){ if((w[kk].y[i]+w[kk].downLen[i]==obstacleMap[0][a].y)&&(w[kk].x[i]==obstacleMap[0][a].x)&&(obstacleMap[0][a].existence)) {obstacleBoom(a); break;} }
				}
				w[kk].count[i]=0; w[kk].countTime[i]=0; blockMap[0][w[kk].y[i]][w[kk].x[i]]=0;
			}
		}
	}
}
if(1){ drawInformation(); }
if(0){//blockMap[0]정보 화면에 표시
	ctx.font = "15px Arial";
	for(var i=0;i<52;i++)
		for(var n=0;n<102;n++)
			ctx.fillText(blockMap[0][i][n],backgroundx+(n-1)*oneBlock,backgroundy+(i-1)*oneBlock+15);
}
if(w[0].inBalloon) ctx.drawImage(mainChar[0][4].image,charx,chary-oneBlock*0.2,oneBlock,oneBlock*1.2);
else ctx.drawImage(mainChar[0][sight[0]].image,charx,chary-oneBlock*0.2,oneBlock,oneBlock*1.2);
if(w[1].inBalloon) ctx.drawImage(mainChar[1][4].image,backgroundx+x[1],backgroundy+y[1]-oneBlock*0.2,oneBlock,oneBlock*1.2);
else ctx.drawImage(mainChar[1][sight[1]].image,backgroundx+x[1],backgroundy+y[1]-oneBlock*0.2,oneBlock,oneBlock*1.2);
if(dialogueSet) { Talking(); }<!--drawdialogue
ctx.drawImage(mouse,mouseX,mouseY,30,30);
if(map[32]){
	if(sight[0]==0){ if(x[0]%oneBlock==0) { if(parseInt( blockMap[0][Math.floor(y[0]/oneBlock)+1][x[0]/oneBlock]/ 1000)==1) npcTalk(blockMap[0][Math.floor(y[0]/oneBlock)+1][x[0]/oneBlock]%1000); else if(parseInt(blockMap[0][Math.floor(y[0]/oneBlock)+2][x[0]/oneBlock]/ 1000)==1) npcTalk(blockMap[0][Math.floor(y[0]/oneBlock)+2][x[0]/oneBlock]%1000);}}
	else if(sight[0]==1){ if(y[0]%oneBlock==0) { if(parseInt(blockMap[0][y[0]/oneBlock][Math.floor(x[0]/oneBlock)+1]/ 1000)==1) npcTalk(blockMap[0][y[0]/oneBlock][Math.floor(x[0]/oneBlock)+1]%1000); else if(parseInt(blockMap[0][y[0]/oneBlock][Math.floor(x[0]/oneBlock)+2]/ 1000)==1) npcTalk(blockMap[0][y[0]/oneBlock][Math.floor(x[0]/oneBlock)+2]%1000)}}
	else if(sight[0]==2){ if(x[0]%oneBlock==0) { if(parseInt(blockMap[0][Math.floor(y[0]/oneBlock)+1][x[0]/oneBlock+2]/ 1000)==1) npcTalk(blockMap[0][Math.floor(y[0]/oneBlock)+1][x[0]/oneBlock+2]%1000); else if(parseInt(blockMap[0][Math.floor(y[0]/oneBlock)+2][x[0]/oneBlock+2]/ 1000)==1) npcTalk(blockMap[0][Math.floor(y[0]/oneBlock)+2][x[0]/oneBlock+2]%1000)}}
	else{ if(y[0]%oneBlock==0) { if(parseInt(blockMap[0][y[0]/oneBlock+2][Math.floor(x[0]/oneBlock)+1]/ 1000)==1) npcTalk(blockMap[0][y[0]/oneBlock+2][Math.floor(x[0]/oneBlock)+1]%1000); else if(parseInt(blockMap[0][y[0]/oneBlock+2][Math.floor(x[0]/oneBlock)+2]/ 1000)==1) npcTalk(blockMap[0][y[0]/oneBlock+2][Math.floor(x[0]/oneBlock)+2]%1000)}}
}<!--spacebar-->

}

</script>
<center>
<br><br>	
<button onclick="alert('F11을 눌러서 전체화면으로 플레이해 보세요~(끌때도 F11) \n 방향키: 주인공 움직이기 \n 스페이스바: npc에게 말걸기');">도움말</button>
</center>
</body>
</html>
	
<html>
<head>
</head>
<body onload="start()" style="background-color:black">
<center>
<canvas id="can" width="1200" height="800" style="border:1px solid #c3c3c3; cursor:none;"/>
</center>
<audio id="Sugar" src="https://diotheworld.github.io/Music/DanceOfTheSugarplumFairy.mp3"/>
<audio id="Fade" src="https://diotheworld.github.io/Music/Fade.mp3"/>
<audio id="Camp" src="https://diotheworld.github.io/Music/CAMP.mp3"/>
<audio id="balloonBoom" src="https://diotheworld.github.io/Music/sports-sound13.ogg"/>
<audio id="item" src="https://diotheworld.github.io/Music/아이템이다.mp3"/>
<audio id="balloonSet" src="https://diotheworld.github.io/Music/etc-sound0010.ogg"/>
<audio id="door" src="https://diotheworld.github.io/Music/문소리.mp3"/>
<audio id="levelUp" src="https://diotheworld.github.io/Music/렙업.wav"/>
<audio id="monsterdie" src="https://diotheworld.github.io/Music/monsterdie.swf.mp3"/>
<audio id="mapp" src="https://diotheworld.github.io/Music/커닝스퀘어.mp3"/>
<script>
var username=prompt("당신의 이름을 입력해주세요");
var can=document.getElementById("can");
var ctx=can.getContext("2d");
var map={};
ctx.fillStyle='yellow'; ctx.font = "50px Arial";
ctx.fillText('Loading...',200,200);
var oneBlock=40;
var exp=0;
var charLevel=1;
var halfBlock=oneBlock/2;
var x = [oneBlock*2, 1080];
var y = [oneBlock*1, 480];
var situation=0;<!--대화의 상황 순서-->
var dialogueSet=0;<!--0이라면 대화중이 아님.-->
var dialogueCount=-2;<!--대화중 필요한 변수-->
var dialogueNpc=0;<!--대화중인 npc-->
var sight=[3,3];<!--좌:0 상:1 우:2 하: 3-->
var backgroundx,backgroundy,charx,chary;
var background=[
	new makeBackground("https://diotheworld.github.io/image/background1.png"),
	new makeBackground("https://diotheworld.github.io/image/다운로드.png"),
	new makeBackground("https://diotheworld.github.io/image/a.jpg"),
];
function makeBackground(source){
	this.image=new Image();
	this.image.src=source;
}
var mw=new Array(background.length),mh=new Array(background.length);<!--mapwidth mapheight-->
var mwBlock=new Array(background.length),mhBlock=new Array(background.length);
mw[0]=4000;
mh[0]=2000;
mwBlock[0]=mw[0]/oneBlock, mhBlock[0]=mh[0]/oneBlock;
background[1].image.onload=function(){mw[1]=background[1].image.width;mh[1]=background[1].image.height; mwBlock[1]=mw[1]/oneBlock, mhBlock[1]=mh[1]/oneBlock;}
background[2].image.onload=function(){mw[2]=background[2].image.width;mh[2]=background[2].image.height; mwBlock[2]=mw[2]/oneBlock, mhBlock[2]=mh[2]/oneBlock;}
var mouseX, mouseY;
var mapCount=0;
function playMusic(id){
	var myAudio = document.getElementById(id); 
	if(myAudio.currentTime==0||myAudio.currentTime==myAudio.duration) { myAudio.play(); } 
}
function playMusic2(id){
	var myAudio = document.getElementById(id); 
	{ myAudio.load(); myAudio.play();} 
}
function aud_play_pause(id) { 
	var myAudio = document.getElementById(id); 
	if (myAudio.paused) { myAudio.play(); } 
	else { myAudio.pause(); } 
}
function aud_stop(id) { 
	var myAudio = document.getElementById(id); 
	{ myAudio.pause(); myAudio.load(); } 
}
var blockMap =new Array(2);
blockMap[0] = new Array(mhBlock[0]); <!-- map 0번째의 벽들 생성. 가로 102칸 세로 52칸.
// -1:벽 0:공중 101~107:아이템 1000대:npc들 10000:부술 수 있는장애물 10001:물풍선1p 20001:물풍선2p 30001:빌딩들 40001:맵 이동
// 0~999: 지나다닐 수 있는 공간 
for(var i=0;i<mhBlock[0];i++) blockMap[0][i] = new Array(mwBlock[0]);
for(var i=0;i<mhBlock[0];i++)
	for(var n=0;n<mwBlock[0];n++)
		blockMap[0][i][n]=0;
blockMap[1]=[
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,0,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,0,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,0,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,0,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,0,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,0,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,0,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,0,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,0,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,50000,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
[2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647,2147483647],
];
//가로:40세로:40
var background1=new Image();
background1.src=("https://diotheworld.github.io/image/background1.png");

var ff=new Image();
ff.src=("https://diotheworld.github.io/image/fire.png");
var mouse=new Image();
mouse.src=("https://diotheworld.github.io/image/cursor.png");

var mainChar=[
	[//원래캐릭터
		new makechar("https://diotheworld.github.io/image/left.png"),
		new makechar("https://diotheworld.github.io/image/back.png"),
		new makechar("https://diotheworld.github.io/image/right.png"),
		new makechar("https://diotheworld.github.io/image/front.png"),
		new makechar("https://diotheworld.github.io/image/물속.png")
	],
	[//2p 캐릭터
		new makechar("https://diotheworld.github.io/image/left.png"),
		new makechar("https://diotheworld.github.io/image/back.png"),
		new makechar("https://diotheworld.github.io/image/right.png"),
		new makechar("https://diotheworld.github.io/image/front.png"),
		new makechar("https://diotheworld.github.io/image/물속.png")
	]
];
function makechar(source){
	this.image=new Image();
	this.image.src=source;
}
var obstacleMap=new Array(background.length); //장애물: 1칸씩이고 물풍선으로 파괴가능. 아이템도 나옴.
var buildingMap=new Array(background.length);	//빙딩들: 1칸이 아니고 물풍선으로 파괴 불가능.
var npcMap=new Array(background.length);	//npc들. 말을 걸 수 있음
var monsterMap=new Array(background.length);
//빌딩들
buildingMap[0]=[
	new makeBuilding("큰통",3,7,2,2,"https://diotheworld.github.io/image/tong.png"),
	new makeBuilding("시설1",8,8,9,3,"https://diotheworld.github.io/image/시설1.png"),
];
//빌딩 만들기
function makeBuilding(name,x,y,sizex,sizey,source){//겹치는 장애물 있으면 못만들어지게 만들어야됨.
	this.name=name;
	this.existence=1;
	this.x=x;
    this.y=y;
	this.sizex=sizex;
	this.sizey=sizey;
	this.state=0;
	this.image=new Array(2);
    this.image[0]=new Image();
    this.image[0].src=source;	//장애물 이미지
	this.image[1]=new Image();	//아이템 이미지
	this.image[1].src="https://diotheworld.github.io/image/Item/Roller.png"; //롤러스테이트
	if((x>=mwBlock[0])||(x<0)||(y>=mhBlock[0])||(y<0)||(blockMap[0][y][x]!=0)){
		this.existence=0;
		return;
	}
	for(a=0;a<sizey;a++)
		for(b=0;b<sizex;b++)
			blockMap[0][y+a][x+b]=30000;
}
//빌딩 그리기
function drawBuildings(){
if(buildingMap[mapCount]==undefined) return;
var a,b=buildingMap[0].length;
for(a=0;a<b;a++)
if(buildingMap[0][a].existence) ctx.drawImage(buildingMap[0][a].image[buildingMap[0][a].state],backgroundx+(buildingMap[0][a].x)*oneBlock,backgroundy+(buildingMap[0][a].y)*oneBlock,buildingMap[0][a].sizex*oneBlock,buildingMap[0][a].sizey*oneBlock);
}
<!--장애물들
obstacleMap[0] = [
	new makeObstacle("통",3,4,"https://diotheworld.github.io/image/tong.png"),
	new makeObstacle("통",3,6,"https://diotheworld.github.io/image/tong.png"),
	new makeObstacle("통",4,6,"https://diotheworld.github.io/image/tong.png"),
	new makeObstacle("통",6,4,"https://diotheworld.github.io/image/tong.png"),
	new makeObstacle("통",7,4,"https://diotheworld.github.io/image/tong.png"),
	new makeObstacle("통",6,6,"https://diotheworld.github.io/image/tong.png"),
	new makeObstacle("통",7,6,"https://diotheworld.github.io/image/tong.png"),
	new makeObstacle("통",6,7,"https://diotheworld.github.io/image/tong.png"),
	
	new makeObstacle("통",8,8,"https://diotheworld.github.io/image/tong.png"),
];
for(var i=0;i<mhBlock[0];i++){
	obstacleMap[0][obstacleMap[0].length]=new makeObstacle("세로철조망",0,i,"https://diotheworld.github.io/image/Obstacle/heightFence.png"); blockMap[0][i][0]=2147483647;
	obstacleMap[0][obstacleMap[0].length]=new makeObstacle("세로철조망",mwBlock[0]-1,i,"https://diotheworld.github.io/image/Obstacle/heightFence.png"); blockMap[0][i][mwBlock[0]-1]=2147483647;
}
for(var i=0;i<mwBlock[0];i++){
	obstacleMap[0][obstacleMap[0].length]=new makeObstacle("가로철조망",i,0,"https://diotheworld.github.io/image/Obstacle/widthFence.png"); blockMap[0][0][i]=2147483647;
	obstacleMap[0][obstacleMap[0].length]=new makeObstacle("가로철조망",i,mhBlock[0]-1,"https://diotheworld.github.io/image/Obstacle/widthFence.png"); blockMap[0][mhBlock[0]-1][i]=2147483647;
}
if(1){//크아 라면.
	for(var i=0;i<40;i++){
		for(var n=0;n<23;n++)
		obstacleMap[0][obstacleMap[0].length]=new makeObstacle("통",2*i,2*n,"https://diotheworld.github.io/image/tong.png");
	}
	for(var i=0;i<25;i++){
		for(var n=0;n<16;n++){
			if(Math.floor(Math.random() * 4)<1)
			obstacleMap[0][obstacleMap[0].length]=new makeObstacle("통",i+4,n+4,"https://diotheworld.github.io/image/tong.png");
		}
	}
}
<!--장애물 만들기
function makeObstacle(name,x,y,source){//겹치는 장애물 있으면 못만들어지게 만들어야됨.
	this.name=name;
	this.existence=1;
	this.x=x;
    this.y=y;
	this.state=0;
	this.item=Math.floor(Math.random() * 6);
	this.image=new Array(2);
    this.image[0]=new Image();
    this.image[0].src=source;	//장애물 이미지
	this.image[1]=new Image();	//아이템 이미지
	if(this.item==0){ this.image[1].src="https://diotheworld.github.io/image/Item/Roller.png"; }//롤러스테이트
	if(this.item==1){ this.image[1].src="https://diotheworld.github.io/image/Item/Bubble.png"; }//물풍선
	if(this.item==2){ this.image[1].src="https://diotheworld.github.io/image/Item/Fluid.png"; }//물줄기
	this.itemExistence=(this.item<=2);
	if((x>=mwBlock[0])||(x<0)||(y>=mhBlock[0])||(y<0)||(blockMap[0][y][x]!=0)){
		this.existence=0;
		return;
	}
	blockMap[0][y][x]=10000;
}
<!--장애물 그리기
function drawObstacles(){
if(obstacleMap[mapCount]==undefined) return;
var a,b=obstacleMap[0].length;
for(a=0;a<b;a++)
if(obstacleMap[0][a].existence) ctx.drawImage(obstacleMap[0][a].image[obstacleMap[0][a].state],backgroundx+(obstacleMap[0][a].x)*oneBlock,backgroundy+(obstacleMap[0][a].y)*oneBlock,oneBlock,oneBlock);
}
<!--장애물, 아이템 물풍선에 맞았을 때
function obstacleBoom(a){
	if((obstacleMap[0][a].itemExistence==0)||(obstacleMap[0][a].state)){ obstacleMap[0][a].existence=0; blockMap[0][obstacleMap[0][a].y][obstacleMap[0][a].x]=0; }
	else{ obstacleMap[0][a].state=1; blockMap[0][obstacleMap[0][a].y][obstacleMap[0][a].x]=100+obstacleMap[0][a].item; }
}
monsterMap[0]=[
	new makeMonster("몬스터",3,2,200,200,"https://stickershop.line-scdn.net/stickershop/v1/product/1043/LINEStorePC/main@2x.png;compress=true"),
];
monsterMap[1]=[
	new makeMonster2("몬스터",20,30,3000,3000,"https://stickershop.line-scdn.net/stickershop/v1/product/1043/LINEStorePC/main@2x.png;compress=true"),
];
for(a=0;a<mhBlock[0];a++)
for(b=0;b<mwBlock[0];b++){
if(Math.floor(Math.random() * 15)<1){
var extraHp=Math.floor(Math.random() * 300);
monsterMap[0][monsterMap[0].length]=new makeMonster("몬스터",b,a,200+extraHp,200+extraHp,"https://stickershop.line-scdn.net/stickershop/v1/product/1043/LINEStorePC/main@2x.png;compress=true");
}
}
for(a=0;a<40;a++)
for(b=0;b<40;b++){
if(Math.floor(Math.random() * 20)<1){
var extraHp=Math.floor(Math.random() * 2000);
monsterMap[1][monsterMap[1].length]=new makeMonster2("몬스터",b,a,200+extraHp,200+extraHp,"https://stickershop.line-scdn.net/stickershop/v1/product/1043/LINEStorePC/main@2x.png;compress=true");
}
}
function makeMonster(name,x,y,maxHp,hp,source){//몬스터 만들기
	this.name=name;
	this.existence=1;
	this.x=x;
    this.y=y;
	this.maxHp=maxHp;
	this.hp=hp;
	this.state=0;
	this.item=Math.floor(Math.random() * 6);
	this.image=new Array(2);
    this.image[0]=new Image();
    this.image[0].src=source;	//장애물 이미지
	this.image[1]=new Image();	//아이템 이미지
	if(this.item==0){ this.image[1].src="https://diotheworld.github.io/image/Item/Roller.png"; }//롤러스테이트
	if(this.item==1){ this.image[1].src="https://diotheworld.github.io/image/Item/Bubble.png"; }//물풍선
	if(this.item==2){ this.image[1].src="https://diotheworld.github.io/image/Item/Fluid.png"; }//물줄기
	this.itemExistence=(this.item<=2);
	if((x>=mwBlock[0])||(x<0)||(y>=mhBlock[0])||(y<0)||(blockMap[0][y][x]!=0)){
		this.existence=0;
		return;
	}
}
function makeMonster2(name,x,y,maxHp,hp,source){//몬스터 만들기
	this.name=name;
	this.existence=1;
	this.x=x;
    this.y=y;
	this.maxHp=maxHp;
	this.hp=hp;
	this.state=0;
	this.item=Math.floor(Math.random() * 6);
	this.image=new Array(2);
    this.image[0]=new Image();
    this.image[0].src=source;	//장애물 이미지
	this.image[1]=new Image();	//아이템 이미지
	if(this.item==0){ this.image[1].src="https://diotheworld.github.io/image/Item/Roller.png"; }//롤러스테이트
	if(this.item==1){ this.image[1].src="https://diotheworld.github.io/image/Item/Bubble.png"; }//물풍선
	if(this.item==2){ this.image[1].src="https://diotheworld.github.io/image/Item/Fluid.png"; }//물줄기
	this.itemExistence=(this.item<=2);
	if((x>=mwBlock[1])||(x<0)||(y>=mhBlock[1])||(y<0)||(blockMap[1][y][x]!=0)){
		this.existence=0;
		return;
	}
}
function drawMonsters(){
if(monsterMap[mapCount]==undefined) return;
var a,b=monsterMap[mapCount].length;
for(a=0;a<b;a++)
if(monsterMap[mapCount][a].existence) {
ctx.fillStyle="black";
ctx.fillRect(backgroundx+(monsterMap[mapCount][a].x)*oneBlock-7,backgroundy+(monsterMap[mapCount][a].y)*oneBlock-10,oneBlock+7,10);
ctx.fillStyle="red";
ctx.fillRect(backgroundx+(monsterMap[mapCount][a].x)*oneBlock-5,backgroundy+(monsterMap[mapCount][a].y)*oneBlock-8,(monsterMap[mapCount][a].hp/monsterMap[mapCount][a].maxHp)*(oneBlock+3),6);
ctx.drawImage(monsterMap[mapCount][a].image[monsterMap[mapCount][a].state],backgroundx+(monsterMap[mapCount][a].x)*oneBlock,backgroundy+(monsterMap[mapCount][a].y)*oneBlock,oneBlock,oneBlock);
}
}
function monsterHit(){
if(monsterMap[mapCount]==undefined) return;
var a,b=monsterMap[mapCount].length;
for(a=0;a<b;a++)
if(monsterMap[mapCount][a].existence) {
	if(blockMap[mapCount][monsterMap[mapCount][a].y][monsterMap[mapCount][a].x]==1){
		monsterMap[mapCount][a].hp-=1;
		ctx.fillStyle="yellow";
		ctx.font = "20px Arial";
		ctx.fillText(1,backgroundx+(monsterMap[mapCount][a].x)*oneBlock-7,backgroundy+(monsterMap[mapCount][a].y)*oneBlock-20);
	}
}
}
function monsterDie(){
if(monsterMap[mapCount]==undefined) return;
var a,b=monsterMap[mapCount].length;
for(a=0;a<b;a++)
if((monsterMap[mapCount][a].existence)&&(monsterMap[mapCount][a].hp<=0)) {
	monsterMap[mapCount][a].existence=0; monsterMap[mapCount][a].hp=0; playMusic2('monsterdie'); exp+=1;
	if(exp>=3){playMusic2('levelUp'); exp=0; charLevel+=1;}
}
}
<!--npc들
var npcCount=0;
npcMap[0] = [<!--x는 최대 100, y는 최대 50
  new makeNpc("김 상병",4,4,"https://diotheworld.github.io/image/Npc/김상병.png"), 
  new makeNpc("이 일병",17,5,"https://diotheworld.github.io/image/a.jpg"), 
  new makeNpc("최 병장",20,25,"http://shop1.phinf.naver.net/20170227_213/bookch_1488183117948QY2EU_JPEG/9791131951293.jpg"),
  new makeNpc("금 일병",5,22,"http://shop1.phinf.naver.net/20170227_213/bookch_1488183117948QY2EU_JPEG/9791131951293.jpg"),
  new makeNpc("이성우 일병",40,40,"https://diotheworld.github.io/image/Npc/김상병.png")
];
function makeNpc(name,x,y,source){
	this.name=name;
	this.x=x;
    this.y=y;
	this.existence=1;
    this.image=new Image();
    this.image.src=source;
	if((x>=mwBlock[0])||(x<0)||(y>mhBlock[0])||(y<0)){
		this.x=0; this.y=0; npcCount+=1; this.existence=0;
		return;
	}
	blockMap[0][y][x]=1000+npcCount;
	npcCount+=1;
}
function drawNpcs(){
if(npcMap[mapCount]==undefined) return;
var a,b=npcMap[0].length;
for(a=0;a<b;a++)
if(npcMap[0][a].existence)ctx.drawImage(npcMap[0][a].image,backgroundx+(npcMap[0][a].x)*oneBlock,backgroundy+(npcMap[0][a].y)*oneBlock,oneBlock,oneBlock);
}
var dialogue = [  //npc의 대화들
  [
    [0,username,
    1,"이병 "+username,
    0,"뭐하냐",
    1,"죄송합니다"
    ],<!--김 상병 situation==0일때 대사
    [1,"김 상병님?",
	0,"왜 ",
    1,"삽 있으십니까? 작업하려하는데 필요합니다.",
    0,"어 저기 창고에 있다",
    0,"감사합니다",
    1,"이상한짓 하지 말고"
    ],
  ], <!--김 상병 situation 1
  [
    [0,"야",
    1,"이병 "+username,
    0,"뭐하냐?",
    0,"지금 작업하는거 안보이냐? 빨리 안도와줘?",
    1,"죄송합니다 바로 돕겠습니다",
	0,"김 상병님이 삽 가지고 있으니까 빨리 가지고와",
	1,"알겠습니다.",
	2
    ],<!--이 일병 situation==0일때 대사
    [0,"삽 가져오라니깐"
    ],
  ], <!--이 일병 situation 1
  [
	[0,"야 짬찌",
    1,"이병 "+username,
    0,"눈감아봐",
    1,"감았습니다",
	0,"니 미래야"
    ],<!--최 병장situation 0
    [0,"야",
    1,"이병 "+username,
    0,"뭐하냐?",
    0,"지금 메추리알 먹는거 안보이냐? 개쳐맞고싶나",
    1,"저도 주십시오"
    ],
  ], <!--최 병장situation 1
  [
	[0,"야 짬찌",
    1,"이병 "+username,
    0,"너 잘못했지?",
    1,"아닙니다",
	0,"여기가 밖이지 안이야?"
    ],<!--금 일병situation 0
    [0,"야",
    1,"이병 "+username,
    0,"뭐하냐?",
    0,"지금 메추리알 먹는거 안보이냐? 개쳐맞고싶나",
    1,"저도 주십시오"
    ],
  ], <!--금 일병situation 1
  [
	[1,"이성우 일병님",
	0,"왜",
    1,"심심해 보이십니다",
    0,"빨리 생활관 가서 TV보고싶다 "+username+"야",
    1,"...",
	0,"응?",
	0,"심심하다니깐?",
	1,"..."
    ],<!--이성우 일병situation 0
    [0,"야",
    1,"이병 "+username,
    0,"아직도 여기있냐?",
    0,"가서 탁구나 연습해",
	0,"너 나한테 지잖아",
    1,"알겠습니다"
    ],
  ]
];
function npcTalk(n){
	dialogueNpc=n;
	map[32]=0;
	if((dialogueCount+2)>=dialogue[dialogueNpc][situation].length){ dialogueSet=0; dialogueCount=-2; }<!--대화가 끝이라면 대화중이 아님으로 설정
	else { dialogueSet=1; dialogueCount+=2; }<!--대화중이라면 대화 카운트를 2씩 높임
	if(dialogue[dialogueNpc][situation][dialogueCount]==2){ situation+=1; dialogueSet=0; dialogueCount=-2; }<!--다음 상황으로 넘어감
}
function Talking(){
	ctx.globalAlpha = 0.5;
	ctx.fillStyle = "black";
	ctx.fillRect(0,600,1200,200);
	ctx.globalAlpha = 1;
	ctx.font = "50px Arial";
	ctx.fillStyle = "yellow";
	if(dialogue[dialogueNpc][situation][dialogueCount]==0)
		ctx.fillText(npcMap[0][dialogueNpc].name+" : "+dialogue[dialogueNpc][situation][dialogueCount+1],100,700);
	else
		ctx.fillText(username+" : "+dialogue[dialogueNpc][situation][dialogueCount+1],100,700);
}
var w=[0,0];
for(k=0;k<2;k++){//물풍선
	w[k]={
		maxPossibleCount:100, possibleCount:10,<!--물풍선 쓸 수 있는 개수
		maxLen:50, len:10,<!--물줄기
		speedCount:10, speed:[0.5,0.6,0.7,0.8,0.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,2,2.2,2.4,2.6,2.8,3,3.2,3.4,3.6,3.8,4],<!--롤러스테이트
		leftLen:1,rightLen:1,upLen:1,downLen:1,
		leftBlock:1,rightBlock:1,upBlock:1,downBlock:1,
		map:1,
		x:1,
		y:1,
		count:1,<!--물풍선 갯수
		countTime:1,
		inBalloon:0, inBalloonSpeed:0.1,
		order:0,<!--
		image:1, //물풍선 이미지
		image2:1 //물풍선 터졌을때 이미지
	};
	w[k].leftLen=new Array(w.possibleCount);
	w[k].rightLen=new Array(w.possibleCount);
	w[k].upLen=new Array(w.possibleCount);
	w[k].downLen=new Array(w.possibleCount);
	w[k].leftBlock=new Array(w.possibleCount);
	w[k].rightBlock=new Array(w.possibleCount);
	w[k].upBlock=new Array(w.possibleCount);
	w[k].downBlock=new Array(w.possibleCount);
	w[k].x=new Array(w.possibleCount);
	w[k].y=new Array(w.possibleCount);
	w[k].count=new Array(w.possibleCount);
	w[k].countTime=new Array(w.possibleCount);
	w[k].map=new Array(w.possibleCount);
	for(var a=0;a<w[k].maxPossibleCount;a++){
		w[k].leftLen[a]=0;
		w[k].rightLen[a]=0;
		w[k].upLen[a]=0;
		w[k].downLen[a]=0;
		w[k].leftBlock[a]=0;
		w[k].rightBlock[a]=0;
		w[k].upBlock[a]=0;
		w[k].downBlock[a]=0;
		w[k].x[a]=0;
		w[k].y[a]=0;
		w[k].count[a]=0;
		w[k].countTime[a]=0;
		w[k].map[a]=0;
	}
	for(var a=0;a<w[k].maxLen;a++){
		w[k].leftLen[a]=0;
		w[k].rightLen[a]=0;
		w[k].upLen[a]=0;
		w[k].downLen[a]=0;
	}
	w[k].image=new Image();
	w[k].image.src=("http://s.nx.com/S2/game/ca/2009/event/130626_make/img1.gif");
	w[k].image2=new Image();
	w[k].image2.src=("https://diotheworld.github.io/image/water.jpg");
}

function charBlock(Y,X,k,m){ return blockMap[m][y[k]/oneBlock+Y][x[k]/oneBlock+X]; }
function balloonBlock(m,Y,X,k,j){ return blockMap[m][w[j].y[k]+Y][w[j].x[k]+X]; }

function waterBallon(k,x,y,j){
	playMusic2("balloonSet");
	w[j].map[k]=mapCount;
	w[j].count[k]=1;
	w[j].x[k]=Math.round(x/oneBlock);
	w[j].y[k]=Math.round(y/oneBlock);
	blockMap[mapCount][w[j].y[k]][w[j].x[k]]=(10000*(j+1)+1+w[j].order);
	w[j].leftBlock[k]=0;
	w[j].rightBlock[k]=0;
	w[j].upBlock[k]=0;
	w[j].downBlock[k]=0;
	w[j].order=w[j].order+1;
	if(w[j].order==w[j].possibleCount) w[j].order=0;
}
var leftSet=[0,0],rightSet=[0,0],upSet=[0,0],downSet=[0,0];
var llll=[0,0],rrrr=[0,0],uuuu=[0,0],dddd=[0,0];
function ifLeftKeyDown(){
	sight[0]=0;
	if(leftSet[0]==0){	leftSet[0]=1; }
}
function ifRightKeyDown(){
	sight[0]=2;
	if(rightSet[0]==0){ rightSet[0]=1; }
}
function ifUpKeyDown(){
	sight[0]=1;
	if(upSet[0]==0){ upSet[0]=1; }
}
function ifDownKeyDown(){
	sight[0]=3;
	if(downSet[0]==0){	downSet[0]=1; }
}
function ifLeftKeyDown2(){
	sight[1]=0;
	if(leftSet[1]==0){	leftSet[1]=1; }
}
function ifRightKeyDown2(){
	sight[1]=2;
	if(rightSet[1]==0){ rightSet[1]=1; }
}
function ifUpKeyDown2(){
	sight[1]=1;
	if(upSet[1]==0){ upSet[1]=1; }
}
function ifDownKeyDown2(){
	sight[1]=3;
	if(downSet[1]==0){	downSet[1]=1; }
}

function mapMove(key){
	playMusic2("door");
	if(key==50100){//1번맵 0번 지역.
		mapCount=1;
		x[0]=21*40; y[0]=36*40;
	}
	else if(key==50000){//0번맵 0번 지역.
		mapCount=0;
		x[0]=12*40; y[0]=10*40;
	}
}

function drawInformation(){
	ctx.font="50px Comic Sans MS";
	ctx.fillStyle = "red";
	ctx.fillText("Level:"+charLevel+" "+mwBlock[1]+" "+" "+buildingMap[1]+" "+w[0].speedCount,10,50);
}

function start(){
	blockMap[0][10][12]=50100;
	setInterval(update,0);
	window.addEventListener('keydown',function(e){ map[e.keyCode]=true; })
	window.addEventListener('keyup',function(e){ map[e.keyCode]=false; })
	document.getElementById("can").addEventListener('mousemove', function (e) { mouseX = e.offsetX; mouseY = e.offsetY; })
}
var preB=1;
function update(){
<!--배경음악 설정.
if(mapCount==0) {playMusic("Camp");aud_stop("mapp");}
else if(mapCount==1) {playMusic("mapp");aud_stop("Camp");}
<!--배경이미지 좌표 설정

if(x[0]<=600-halfBlock){ backgroundx=0; charx=x[0]; }
else if(x[0]>600-halfBlock&&x[0]<=mw[mapCount]-(600+halfBlock)){ backgroundx=-x[0]+600-halfBlock; charx=600-halfBlock; }
else if(x[0]>mw[mapCount]-(600+halfBlock)){ backgroundx=-mw[mapCount]+1200; charx=x[0]-mw[mapCount]+1200; }
if(y[0]<=400-halfBlock){ backgroundy=0; chary=y[0]; }
else if(y[0]>400-halfBlock&&y[0]<=mh[mapCount]-(400+halfBlock)){ backgroundy=-y[0]+400-halfBlock; chary=400-halfBlock; }
else if(y[0]>mh[mapCount]-(400+halfBlock)){ backgroundy=-mh[mapCount]+800; chary=y[0]-mh[mapCount]+800; }

<!--대화중이라면 움직일 수 없음
if(dialogueSet==0){
	if((x[0]%oneBlock==0)&&(y[0]%oneBlock)==0){
		if(map[37]&&(charBlock(0,-1,0,mapCount)>=50000)&&(charBlock(0,-1,0,mapCount)<60000)){ mapMove(charBlock(0,-1,0,mapCount));}
		else if(map[39]&&(charBlock(0,1,0,mapCount)>=50000)&&(charBlock(0,1,0,mapCount)<60000)){ mapMove(charBlock(0,1,0,mapCount));}
		else if(map[38]&&(charBlock(-1,0,0,mapCount)>=50000)&&(charBlock(-1,0,0,mapCount)<60000)){ mapMove(charBlock(-1,0,0,mapCount));}
		else if(map[40]&&(charBlock(1,0,0,mapCount)>=50000)&&(charBlock(1,0,0,mapCount)<60000)){ mapMove(charBlock(1,0,0,mapCount));}
		if((sight[0]==1)||(sight[0]==3)){
			if(map[37]){
				sight[0]=0;
				if(map[38]) {
					if(((charBlock(-1,-1,0,mapCount)/200)<1)&&((charBlock(-1,0,0,mapCount)/200)<1)&&((charBlock(0,-1,0,mapCount)/200)<1)){ ifLeftKeyDown(); ifUpKeyDown(); }
					else if((charBlock(0,-1,0,mapCount)/200)<1) ifLeftKeyDown();
					else if((charBlock(-1,0,0,mapCount)/200)<1) ifUpKeyDown();
				}
				else if(map[40]) {
					if(((charBlock(0,-1,0,mapCount)/200)<1)&&((charBlock(+1,-1,0,mapCount)/200)<1)&&((charBlock(+1,0,0,mapCount)/200)<1)){ ifLeftKeyDown(); ifDownKeyDown(); }
					else if((charBlock(0,-1,0,mapCount)/200)<1) ifLeftKeyDown();
					else if((charBlock(+1,0,0,mapCount)/200)<1) ifDownKeyDown();
				}
				else if((charBlock(0,-1,0,mapCount)/200)<1) ifLeftKeyDown();
			}
			else if(map[39]){
				sight[0]=2;
				if(map[38]) { 
					if(((charBlock(-1,0,0,mapCount)/200)<1)&&((charBlock(-1,+1,0,mapCount)/200)<1)&&((charBlock(0,+1,0,mapCount)/200)<1)){ ifRightKeyDown(); ifUpKeyDown(); }
					else if((charBlock(0,+1,0,mapCount)/200)<1) ifRightKeyDown();
					else if((charBlock(-1,0,0,mapCount)/200)<1) ifUpKeyDown();
				}
				else if(map[40]) { 
					if(((charBlock(0,+1,0,mapCount)/200)<1)&&((charBlock(+1,0,0,mapCount)/200)<1)&&((charBlock(+1,+1,0,mapCount)/200)<1)){ ifRightKeyDown(); ifDownKeyDown(); }
					else if((charBlock(0,+1,0,mapCount)/200)<1) ifRightKeyDown();
					else if((charBlock(+1,0,0,mapCount)/200)<1) ifDownKeyDown();
				}
				else if((charBlock(0,+1,0,mapCount)/200)<1) ifRightKeyDown();
			}
			else if(map[38]) { sight[0]=1; if((charBlock(-1,0,0,mapCount)/200)<1) ifUpKeyDown(); }
			else if(map[40]) { sight[0]=3; if((charBlock(+1,0,0,mapCount)/200)<1) ifDownKeyDown(); }
		}
		else if((sight[0]==0)||(sight[0]==2)){
			if(map[38]){
				sight[0]=1;
				if(map[37]) {
					if(((charBlock(-1,-1,0,mapCount)/200)<1)&&((charBlock(-1,0,0,mapCount)/200)<1)&&((charBlock(0,-1,0,mapCount)/200)<1)){ ifUpKeyDown(); ifLeftKeyDown(); }
					else if((charBlock(-1,0,0,mapCount)/200)<1) ifUpKeyDown();
					else if((charBlock(0,-1,0,mapCount)/200)<1) ifLeftKeyDown();
				}
				else if(map[39]) {
					if(((charBlock(-1,0,0,mapCount)/200)<1)&&((charBlock(-1,+1,0,mapCount)/200)<1)&&((charBlock(0,+1,0,mapCount)/200)<1)){ ifUpKeyDown(); ifRightKeyDown(); }
					else if((charBlock(-1,0,0,mapCount)/200)<1) ifUpKeyDown();
					else if((charBlock(0,+1,0,mapCount)/200)<1) ifRightKeyDown();
				}
				else if((charBlock(-1,0,0,mapCount)/200)<1) ifUpKeyDown();
			}
			else if(map[40]){
				sight[0]=3;
				if(map[37]) { 
					if(((charBlock(0,-1,0,mapCount)/200)<1)&&((charBlock(+1,-1,0,mapCount)/200)<1)&&((charBlock(+1,0,0,mapCount)/200)<1)){ ifDownKeyDown(); ifLeftKeyDown(); }
					else if((charBlock(+1,0,0,mapCount)/200)<1) ifDownKeyDown();
					else if((charBlock(0,-1,0,mapCount)/200)<1) ifLeftKeyDown();
				}
				else if(map[39]) { 
					if(((charBlock(0,+1,0,mapCount)/200)<1)&&((charBlock(+1,0,0,mapCount)/200)<1)&&((charBlock(+1,+1,0,mapCount)/200)<1)){ ifDownKeyDown(); ifRightKeyDown(); }
					else if((charBlock(+1,0,0,mapCount)/200<1)) ifDownKeyDown();
					else if((charBlock(0,+1,0,mapCount)/200<1)) ifRightKeyDown();
				}
				else if((charBlock(+1,0,0,mapCount)/200)<1) ifDownKeyDown();
			}
			else if(map[37]) { sight[0]=0; if((charBlock(0,-1,0,mapCount)/200)<1) ifLeftKeyDown(); }
			else if(map[39]) { sight[0]=2; if((charBlock(0,+1,0,mapCount)/200)<1) ifRightKeyDown(); }
		}
	}
	if((x[1]%oneBlock==0)&&(y[1]%oneBlock)==0){
		if((sight[1]==1)||(sight[1]==3)){
			if(map[83]){
				sight[1]=0;
				if(map[69]) {
					if(((charBlock(-1,-1,1,mapCount)/200)<1)&&((charBlock(-1,0,1,mapCount)/200)<1)&&((charBlock(0,-1,1,mapCount)/200)<1)){ ifLeftKeyDown2(); ifUpKeyDown2(); }
					else if((charBlock(0,-1,1,mapCount)/200)<1) ifLeftKeyDown2();
					else if((charBlock(-1,0,1,mapCount)/200)<1) ifUpKeyDown2();
				}
				else if(map[68]) {
					if(((charBlock(0,-1,1,mapCount)/200)<1)&&((charBlock(+1,-1,1,mapCount)/200)<1)&&((charBlock(+1,0,1,mapCount)/200)<1)){ ifLeftKeyDown2(); ifDownKeyDown2(); }
					else if((charBlock(0,-1,1,mapCount)/200)<1) ifLeftKeyDown2();
					else if((charBlock(+1,0,1,mapCount)/200)<1) ifDownKeyDown2();
				}
				else if((charBlock(0,-1,1,mapCount)/200)<1) ifLeftKeyDown2();
			}
			else if(map[70]){
				sight[1]=2;
				if(map[69]) { 
					if(((charBlock(-1,0,1,mapCount)/200)<1)&&((charBlock(-1,+1,1,mapCount)/200)<1)&&((charBlock(0,+1,1,mapCount)/200)<1)){ ifRightKeyDown2(); ifUpKeyDown2(); }
					else if((charBlock(0,+1,1,mapCount)/200)<1) ifRightKeyDown2();
					else if((charBlock(-1,0,1,mapCount)/200)<1) ifUpKeyDown2();
				}
				else if(map[68]) { 
					if(((charBlock(0,+1,1,mapCount)/200)<1)&&((charBlock(+1,0,1,mapCount)/200)<1)&&((charBlock(+1,+1,1,mapCount)/200)<1)){ ifRightKeyDown2(); ifDownKeyDown2(); }
					else if((charBlock(0,+1,1,mapCount)/200)<1) ifRightKeyDown2();
					else if((charBlock(+1,0,1,mapCount)/200)<1) ifDownKeyDown2();
				}
				else if((charBlock(0,+1,1,mapCount)/200)<1) ifRightKeyDown2();
			}
			else if(map[69]) { sight[1]=1; if((charBlock(-1,0,1,mapCount)/200)<1) ifUpKeyDown2(); }
			else if(map[68]) { sight[1]=3; if((charBlock(+1,0,1,mapCount)/200)<1) ifDownKeyDown2(); }
		}
		else if((sight[1]==0)||(sight[1]==2)){
			if(map[69]){
				sight[1]=1;
				if(map[83]) {
					if(((charBlock(-1,-1,1,mapCount)/200)<1)&&((charBlock(-1,0,1,mapCount)/200)<1)&&((charBlock(0,-1,1,mapCount)/200)<1)){ ifUpKeyDown2(); ifLeftKeyDown2(); }
					else if((charBlock(-1,0,1,mapCount)/200)<1) ifUpKeyDown2();
					else if((charBlock(0,-1,1,mapCount)/200)<1) ifLeftKeyDown2();
				}
				else if(map[70]) {
					if(((charBlock(-1,0,1,mapCount)/200)<1)&&((charBlock(-1,+1,1,mapCount)/200)<1)&&((charBlock(0,+1,1,mapCount)/200)<1)){ ifUpKeyDown2(); ifRightKeyDown2(); }
					else if((charBlock(-1,0,1,mapCount)/200)<1) ifUpKeyDown2();
					else if((charBlock(0,+1,1,mapCount)/200)<1) ifRightKeyDown2();
				}
				else if((charBlock(-1,0,1,mapCount)/200)<1) ifUpKeyDown2();
			}
			else if(map[68]){
				sight[1]=3;
				if(map[83]) { 
					if(((charBlock(0,-1,1,mapCount)/200)<1)&&((charBlock(+1,-1,1,mapCount)/200)<1)&&((charBlock(+1,0,1,mapCount)/200)<1)){ ifDownKeyDown2(); ifLeftKeyDown2(); }
					else if((charBlock(+1,0,1,mapCount)/200)<1) ifDownKeyDown2();
					else if((charBlock(0,-1,1,mapCount)/200)<1) ifLeftKeyDown2();
				}
				else if(map[70]) { 
					if(((charBlock(0,+1,1,mapCount)/200)<1)&&((charBlock(+1,0,1,mapCount)/200)<1)&&((charBlock(+1,+1,1,mapCount)/200)<1)){ ifDownKeyDown2(); ifRightKeyDown2(); }
					else if((charBlock(+1,0,1,mapCount)/200<1)) ifDownKeyDown2();
					else if((charBlock(0,+1,1,mapCount)/200<1)) ifRightKeyDown2();
				}
				else if((charBlock(+1,0,1,mapCount)/200)<1) ifDownKeyDown2();
			}
			else if(map[83]) { sight[1]=0; if((charBlock(0,-1,1,mapCount)/200)<1) ifLeftKeyDown2(); }
			else if(map[70]) { sight[1]=2; if((charBlock(0,+1,1,mapCount)/200)<1) ifRightKeyDown2(); }
		}
	}
}
for(kk=0;kk<2;kk++){//상하좌우 움직이기
	if(leftSet[kk]){
		if(w[kk].inBalloon){
			x[kk]-=w[kk].inBalloonSpeed;
			llll[kk]+=w[kk].inBalloonSpeed;
		}
		else {
			x[kk]-=w[kk].speed[w[kk].speedCount];
			llll[kk]+=w[kk].speed[w[kk].speedCount];
		}
		if(llll[kk]>=oneBlock) { x[kk]=Math.round(x[kk]/oneBlock)*oneBlock; llll[kk]=0; leftSet[kk]=0; }
	}
	else if(rightSet[kk]){
		if(w[kk].inBalloon){
			x[kk]+=w[kk].inBalloonSpeed;
			rrrr[kk]+=w[kk].inBalloonSpeed;
		}
		else {
			x[kk]+=w[kk].speed[w[kk].speedCount];
			rrrr[kk]+=w[kk].speed[w[kk].speedCount];
		}
		if(rrrr[kk]>=oneBlock) { x[kk]=Math.round(x[kk]/oneBlock)*oneBlock; rrrr[kk]=0; rightSet[kk]=0; }
	}
	if(upSet[kk]){
		if(w[kk].inBalloon){
			y[kk]-=w[kk].inBalloonSpeed;
			uuuu[kk]+=w[kk].inBalloonSpeed;
		}
		else {
			y[kk]-=w[kk].speed[w[kk].speedCount];
			uuuu[kk]+=w[kk].speed[w[kk].speedCount];
		}
		if(uuuu[kk]>=oneBlock) { y[kk]=Math.round(y[kk]/oneBlock)*oneBlock; uuuu[kk]=0; upSet[kk]=0; }
	}
	else if(downSet[kk]){
		if(w[kk].inBalloon){
			y[kk]+=w[kk].inBalloonSpeed;
			dddd[kk]+=w[kk].inBalloonSpeed;
		}
		else {
			y[kk]+=w[kk].speed[w[kk].speedCount];
			dddd[kk]+=w[kk].speed[w[kk].speedCount];
		}
		if(dddd[kk]>=oneBlock) { y[kk]=Math.round(y[kk]/oneBlock)*oneBlock; dddd[kk]=0; downSet[kk]=0; }
	}
}
if(blockMap[mapCount][Math.round(y[0]/oneBlock)][Math.round(x[0]/oneBlock)]==1)w[0].inBalloon=1;
if(blockMap[mapCount][Math.round(y[1]/oneBlock)][Math.round(x[1]/oneBlock)]==1)w[1].inBalloon=1;
if((w[0].inBalloon==0)&&(w[1].inBalloon==1)){
	if((x[0]<x[1]+oneBlock)&&(x[0]+oneBlock>x[1])&&(y[0]<y[1]+oneBlock)&&(y[0]+oneBlock>y[1])) alert("1p win");//1p우승
}
if((w[0].inBalloon==1)&&(w[1].inBalloon==0)){
	if((x[1]<x[0]+oneBlock)&&(x[1]+oneBlock>x[0])&&(y[1]<y[0]+oneBlock)&&(y[1]+oneBlock>y[0])) alert("2p win");//2p우승
}
for(kk=0;kk<2;kk++){//아이템 먹는다면?
	if((x[kk]%oneBlock==0)&&(y[kk]%oneBlock==0)&&(w[kk].inBalloon==0)){ 
		if((blockMap[mapCount][y[kk]/oneBlock][x[kk]/oneBlock]>=100)&&(blockMap[mapCount][y[kk]/oneBlock][x[kk]/oneBlock]<=102)){
			playMusic2("item");
			if(blockMap[mapCount][y[kk]/oneBlock][x[kk]/oneBlock]==100) { 
				for(var a=0;a<obstacleMap[0].length;a++) { if(((y[kk]/oneBlock)==obstacleMap[0][a].y)&&((x[kk]/oneBlock)==obstacleMap[0][a].x)) {obstacleBoom(a)} }
				if(w[kk].speedCount<(w[kk].speed.length-1)) w[kk].speedCount+=1; 
			}
			else if(blockMap[mapCount][y[kk]/oneBlock][x[kk]/oneBlock]==101) { 
				for(var a=0;a<obstacleMap[0].length;a++) { if(((y[kk]/oneBlock)==obstacleMap[0][a].y)&&((x[kk]/oneBlock)==obstacleMap[0][a].x)) {obstacleBoom(a)} }
				if(w[kk].possibleCount<w[kk].maxPossibleCount) w[kk].possibleCount+=1; 
			}
			else if(blockMap[mapCount][y[kk]/oneBlock][x[kk]/oneBlock]==102) { 
				for(var a=0;a<obstacleMap[0].length;a++) { if(((y[kk]/oneBlock)==obstacleMap[0][a].y)&&((x[kk]/oneBlock)==obstacleMap[0][a].x)) {obstacleBoom(a)} }
				if(w[kk].len<w[kk].maxLen) w[kk].len+=1; 
			}
		}
	}
}
ctx.drawImage(background[mapCount].image,backgroundx,backgroundy,mw[mapCount],mh[mapCount]);
drawBuildings();
drawObstacles();
drawNpcs();
if(dialogueSet==0){
	if(map[188]){
		ctx.drawImage(ff,charx-120,chary,120,oneBlock);
	}<!--<-->
	if(map[190]&&(w[0].inBalloon==0)){
		if((w[0].count[w[0].order]==0)&&(blockMap[mapCount][Math.round(y[0]/oneBlock)][Math.round(x[0]/oneBlock)]==0)){
			waterBallon(w[0].order,x[0],y[0],0);
		}
	}<!-->-->
	if(map[191]){ w[0].inBalloon=0; }<!--?-->
	if(map[65]&&(w[1].inBalloon==0)){
		if((w[1].count[w[1].order]==0)&&(blockMap[mapCount][Math.round(y[1]/oneBlock)][Math.round(x[1]/oneBlock)]==0)){
			waterBallon(w[1].order,x[1],y[1],1);
		}
	}<!--a-->
	if(map[81]){ w[1].inBalloon=0; }<!--q-->
}
for(kk=0;kk<2;kk++){<!--물풍선 각각 시간초 증가
	for(var i=0;i<w[kk].possibleCount;i++){
		if(w[kk].count[i]) { w[kk].countTime[i]+=10;}
	}
}
preB=1;
while(preB){//물풍선 같은줄에 있으면 한꺼번에 터지게
preB=0;
	for(var i=0;i<w[0].possibleCount;i++){
		if(w[0].count[i])if(w[0].countTime[i]==3000){
			blockMap[w[0].map[i]][w[0].y[i]][w[0].x[i]]=1;
			for(aa=1;aa<=w[0].len;aa++){
				if(balloonBlock(w[0].map[i],0,-aa,i,0)==1){ break; }
				else if(balloonBlock(w[0].map[i],0,-aa,i,0)==2147483647){ break; }
				else if(balloonBlock(w[0].map[i],0,-aa,i,0)==10000){ break; }
				else if(balloonBlock(w[0].map[i],0,-aa,i,0)==30000){ break; }
				else if((balloonBlock(w[0].map[i],0,-aa,i,0)>=50000)&&(balloonBlock(w[0].map[i],0,-aa,i,0)<60000)){break;}
				else if((balloonBlock(w[0].map[i],0,-aa,i,0)>=1000)&&(balloonBlock(w[0].map[i],0,-aa,i,0)<2000)){break;}
				else if((balloonBlock(w[0].map[i],0,-aa,i,0)>=10001)&&(balloonBlock(w[0].map[i],0,-aa,i,0)<=(10001+w[0].maxPossibleCount))){
					w[0].countTime[balloonBlock(w[0].map[i],0,-aa,i,0)-10001]=3000;  preB=1; blockMap[w[0].map[i]][w[0].y[i]][w[0].x[i]-aa]=1; 
					break;
				}//물풍선일때 해야될 것
				else if((balloonBlock(w[0].map[i],0,-aa,i,0)>=20001)&&(balloonBlock(w[0].map[i],0,-aa,i,0)<=(20001+w[1].maxPossibleCount))){
					w[1].countTime[balloonBlock(w[0].map[i],0,-aa,i,0)-20001]=3000;  preB=1; blockMap[w[0].map[i]][w[0].y[i]][w[0].x[i]-aa]=1; 
					break;
				}//물풍선일때 해야될 것
			}
			for(bb=1;bb<=w[0].len;bb++){
				if(balloonBlock(w[0].map[i],0,bb,i,0)==1){ break; }
				else if(balloonBlock(w[0].map[i],0,bb,i,0)==2147483647){ break; }
				else if(balloonBlock(w[0].map[i],0,bb,i,0)==10000){ break; }
				else if(balloonBlock(w[0].map[i],0,bb,i,0)==30000){ break; }
				else if((balloonBlock(w[0].map[i],0,bb,i,0)>=50000)&&(balloonBlock(w[0].map[i],0,bb,i,0)<60000)){break;}
				else if((balloonBlock(w[0].map[i],0,bb,i,0)>=1000)&&(balloonBlock(w[0].map[i],0,bb,i,0)<2000)){break;}
				else if((balloonBlock(w[0].map[i],0,bb,i,0)>=10001)&&(balloonBlock(w[0].map[i],0,bb,i,0)<=(10001+w[0].maxPossibleCount))){
					w[0].countTime[balloonBlock(w[0].map[i],0,bb,i,0)-10001]=3000;  preB=1; blockMap[w[0].map[i]][w[0].y[i]][w[0].x[i]+bb]=1; 
					break;
				}//물풍선일때 해야될 것
				else if((balloonBlock(w[0].map[i],0,bb,i,0)>=20001)&&(balloonBlock(w[0].map[i],0,bb,i,0)<=(20001+w[1].maxPossibleCount))){
					w[1].countTime[balloonBlock(w[0].map[i],0,bb,i,0)-20001]=3000;  preB=1; blockMap[w[0].map[i]][w[0].y[i]][w[0].x[i]+bb]=1; 
					break;
				}//물풍선일때 해야될 것
			}
			for(cc=1;cc<=w[0].len;cc++){
				if(balloonBlock(w[0].map[i],-cc,0,i,0)==1){ break; }
				else if(balloonBlock(w[0].map[i],-cc,0,i,0)==2147483647){ break; }
				else if(balloonBlock(w[0].map[i],-cc,0,i,0)==10000){ break; }
				else if(balloonBlock(w[0].map[i],-cc,0,i,0)==30000){ break; }
				else if((balloonBlock(w[0].map[i],-cc,0,i,0)>=50000)&&(balloonBlock(w[0].map[i],-cc,0,i,0)<60000)){break;}
				else if((balloonBlock(w[0].map[i],-cc,0,i,0)>=1000)&&(balloonBlock(w[0].map[i],-cc,0,i,0)<2000)){break;}
				else if((balloonBlock(w[0].map[i],-cc,0,i,0)>=10001)&&(balloonBlock(w[0].map[i],-cc,0,i,0)<=(10001+w[0].maxPossibleCount))){
					w[0].countTime[balloonBlock(w[0].map[i],-cc,0,i,0)-10001]=3000;  preB=1; blockMap[w[0].map[i]][w[0].y[i]-cc][w[0].x[i]]=1; 
					break;
				}//물풍선일때 해야될 것
				else if((balloonBlock(w[0].map[i],-cc,0,i,0)>=20001)&&(balloonBlock(w[0].map[i],-cc,0,i,0)<=(20001+w[1].maxPossibleCount))){
					w[1].countTime[balloonBlock(w[0].map[i],-cc,0,i,0)-20001]=3000;  preB=1; blockMap[w[0].map[i]][w[0].y[i]-cc][w[0].x[i]]=1; 
					break;
				}//물풍선일때 해야될 것
			}
			for(dd=1;dd<=w[0].len;dd++){
				if(balloonBlock(w[0].map[i],dd,0,i,0)==1){ break; }
				else if(balloonBlock(w[0].map[i],dd,0,i,0)==2147483647){ break; }
				else if(balloonBlock(w[0].map[i],dd,0,i,0)==10000){ break; }
				else if(balloonBlock(w[0].map[i],dd,0,i,0)==30000){ break; }
				else if((balloonBlock(w[0].map[i],dd,0,i,0)>=50000)&&(balloonBlock(w[0].map[i],dd,0,i,0)<60000)){break;}
				else if((balloonBlock(w[0].map[i],dd,0,i,0)>=1000)&&(balloonBlock(w[0].map[i],dd,0,i,0)<2000)){break;}
				else if((balloonBlock(w[0].map[i],dd,0,i,0)>=10001)&&(balloonBlock(w[0].map[i],dd,0,i,0)<=(10001+w[0].maxPossibleCount))){
					w[0].countTime[balloonBlock(w[0].map[i],dd,0,i,0)-10001]=3000;  preB=1; blockMap[w[0].map[i]][w[0].y[i]+dd][w[0].x[i]]=1; 
					break;
				}//물풍선일때 해야될 것
				else if((balloonBlock(w[0].map[i],dd,0,i,0)>=20001)&&(balloonBlock(w[0].map[i],dd,0,i,0)<=(20001+w[1].maxPossibleCount))){
					w[1].countTime[balloonBlock(w[0].map[i],dd,0,i,0)-20001]=3000;  preB=1; blockMap[w[0].map[i]][w[0].y[i]+dd][w[0].x[i]]=1; 
					break;
				}//물풍선일때 해야될 것
			}
		}
	}
	for(var i=0;i<w[1].possibleCount;i++){
		if(w[1].count[i])if(w[1].countTime[i]==3000){
			blockMap[w[1].map[i]][w[1].y[i]][w[1].x[i]]=1;
			for(aa=1;aa<=w[1].len;aa++){
				if(balloonBlock(w[1].map[i],0,-aa,i,1)==1){ break; }
				else if(balloonBlock(w[1].map[i],0,-aa,i,1)==2147483647){ break; }
				else if(balloonBlock(w[1].map[i],0,-aa,i,1)==10000){ break; }
				else if(balloonBlock(w[1].map[i],0,-aa,i,1)==30000){ break; }
				else if((balloonBlock(w[1].map[i],0,-aa,i,1)>=50000)&&(balloonBlock(w[1].map[i],0,-aa,i,1)<60000)){break;}
				else if((balloonBlock(w[1].map[i],0,-aa,i,1)>=1000)&&(balloonBlock(w[1].map[i],0,-aa,i,1)<2000)){break;}
				else if((balloonBlock(w[1].map[i],0,-aa,i,1)>=20001)&&(balloonBlock(w[1].map[i],0,-aa,i,1)<=(20001+w[1].maxPossibleCount))){
					w[1].countTime[balloonBlock(w[1].map[i],0,-aa,i,1)-20001]=3000;  preB=1; blockMap[w[1].map[i]][w[1].y[i]][w[1].x[i]-aa]=1; 
					break;
				}//물풍선일때 해야될 것
				else if((balloonBlock(w[1].map[i],0,-aa,i,1)>=10001)&&(balloonBlock(w[1].map[i],0,-aa,i,1)<=(10001+w[0].maxPossibleCount))){
					w[0].countTime[balloonBlock(w[1].map[i],0,-aa,i,1)-10001]=3000;  preB=1; blockMap[w[1].map[i]][w[1].y[i]][w[1].x[i]-aa]=1; 
					break;
				}//물풍선일때 해야될 것
			}
			for(bb=1;bb<=w[1].len;bb++){
				if(balloonBlock(w[1].map[i],0,bb,i,1)==1){ break; }
				else if(balloonBlock(w[1].map[i],0,bb,i,1)==2147483647){ break; }
				else if(balloonBlock(w[1].map[i],0,bb,i,1)==10000){ break; }
				else if(balloonBlock(w[1].map[i],0,bb,i,1)==30000){ break; }
				else if((balloonBlock(w[1].map[i],0,bb,i,1)>=50000)&&(balloonBlock(w[1].map[i],0,bb,i,1)<60000)){break;}
				else if((balloonBlock(w[1].map[i],0,bb,i,1)>=1000)&&(balloonBlock(w[1].map[i],0,bb,i,1)<2000)){break;}
				else if((balloonBlock(w[1].map[i],0,bb,i,1)>=20001)&&(balloonBlock(w[1].map[i],0,bb,i,1)<=(20001+w[1].maxPossibleCount))){
					w[1].countTime[balloonBlock(w[1].map[i],0,bb,i,1)-20001]=3000;  preB=1; blockMap[w[1].map[i]][w[1].y[i]][w[1].x[i]+bb]=1; 
					break;
				}//물풍선일때 해야될 것
				else if((balloonBlock(w[1].map[i],0,bb,i,1)>=10001)&&(balloonBlock(w[1].map[i],0,bb,i,1)<=(10001+w[0].maxPossibleCount))){
					w[0].countTime[balloonBlock(w[1].map[i],0,bb,i,1)-10001]=3000;  preB=1; blockMap[w[1].map[i]][w[1].y[i]][w[1].x[i]+bb]=1; 
					break;
				}//물풍선일때 해야될 것
			}
			for(cc=1;cc<=w[1].len;cc++){
				if(balloonBlock(w[1].map[i],-cc,0,i,1)==1){ break; }
				else if(balloonBlock(w[1].map[i],-cc,0,i,1)==2147483647){ break; }
				else if(balloonBlock(w[1].map[i],-cc,0,i,1)==10000){ break; }
				else if(balloonBlock(w[1].map[i],-cc,0,i,1)==30000){ break; }
				else if((balloonBlock(w[1].map[i],-cc,0,i,1)>=50000)&&(balloonBlock(w[1].map[i],-cc,0,i,1)<60000)){break;}
				else if((balloonBlock(w[1].map[i],-cc,0,i,1)>=1000)&&(balloonBlock(w[1].map[i],-cc,0,i,1)<2000)){break;}
				else if((balloonBlock(w[1].map[i],-cc,0,i,1)>=20001)&&(balloonBlock(w[1].map[i],-cc,0,i,1)<=(20001+w[1].maxPossibleCount))){
					w[1].countTime[balloonBlock(w[1].map[i],-cc,0,i,1)-20001]=3000;  preB=1; blockMap[w[1].map[i]][w[1].y[i]-cc][w[1].x[i]]=1; 
					break;
				}//물풍선일때 해야될 것
				else if((balloonBlock(w[1].map[i],-cc,0,i,1)>=10001)&&(balloonBlock(w[1].map[i],-cc,0,i,1)<=(10001+w[0].maxPossibleCount))){
					w[0].countTime[balloonBlock(w[1].map[i],-cc,0,i,1)-10001]=3000;  preB=1; blockMap[w[1].map[i]][w[1].y[i]-cc][w[1].x[i]]=1; 
					break;
				}//물풍선일때 해야될 것
			}
			for(dd=1;dd<=w[1].len;dd++){
				if(balloonBlock(w[1].map[i],dd,0,i,1)==1){ break; }
				else if(balloonBlock(w[1].map[i],dd,0,i,1)==2147483647){ break; }
				else if(balloonBlock(w[1].map[i],dd,0,i,1)==10000){ break; }
				else if(balloonBlock(w[1].map[i],dd,0,i,1)==30000){ break; }
				else if((balloonBlock(w[1].map[i],dd,0,i,1)>=50000)&&(balloonBlock(w[1].map[i],dd,0,i,1)<60000)){break;}
				else if((balloonBlock(w[1].map[i],dd,0,i,1)>=1000)&&(balloonBlock(w[1].map[i],dd,0,i,1)<2000)){break;}
				else if((balloonBlock(w[1].map[i],dd,0,i,1)>=20001)&&(balloonBlock(w[1].map[i],dd,0,i,1)<=(20001+w[1].maxPossibleCount))){
					w[1].countTime[balloonBlock(w[1].map[i],dd,0,i,1)-20001]=3000;  preB=1; blockMap[w[1].map[i]][w[1].y[i]+dd][w[1].x[i]]=1; 
					break;
				}//물풍선일때 해야될 것
				else if((balloonBlock(w[1].map[i],dd,0,i,1)>=10001)&&(balloonBlock(w[1].map[i],dd,0,i,1)<=(10001+w[0].maxPossibleCount))){
					w[0].countTime[balloonBlock(w[1].map[i],dd,0,i,1)-10001]=3000;  preB=1; blockMap[w[1].map[i]][w[1].y[i]+dd][w[1].x[i]]=1; 
					break;
				}//물풍선일때 해야될 것
			}
		}
	}
}
for(kk=0;kk<2;kk++){<!--물풍선 터지는것
	for(var i=0;i<w[kk].possibleCount;i++){
		if(w[kk].count[i]){
			if(w[kk].countTime[i]<3000) {if(w[kk].map[i]==mapCount)ctx.drawImage(w[kk].image,backgroundx+(w[kk].x[i])*oneBlock-27*oneBlock/40,backgroundy+(w[kk].y[i])*oneBlock-36*oneBlock/40,90*oneBlock/40,90*oneBlock/40);}
			else if(w[kk].countTime[i]==3000){
				playMusic2("balloonBoom");
				blockMap[w[kk].map[i]][w[kk].y[i]][w[kk].x[i]]=1;
				for(w[kk].leftLen[i]=1;w[kk].leftLen[i]<=w[kk].len;w[kk].leftLen[i]++){
					if(balloonBlock(w[kk].map[i],0,-w[kk].leftLen[i],i,kk)==2147483647){ w[kk].leftBlock[i]=2147483647; break; }
					else if((balloonBlock(w[kk].map[i],0,-w[kk].leftLen[i],i,kk)>=50000)&&(balloonBlock(w[kk].map[i],0,-w[kk].leftLen[i],i,kk)<60000)){break;}
					else if((balloonBlock(w[kk].map[i],0,-w[kk].leftLen[i],i,kk)>=1000)&&(balloonBlock(w[kk].map[i],0,-w[kk].leftLen[i],i,kk)<2000)){break;}
					else if(balloonBlock(w[kk].map[i],0,-w[kk].leftLen[i],i,kk)==1){ w[kk].leftBlock[i]=1; break; }
					else if((balloonBlock(w[kk].map[i],0,-w[kk].leftLen[i],i,kk)>=30000)&&(balloonBlock(w[kk].map[i],0,-w[kk].leftLen[i],i,kk)<=30000+buildingMap[0].length)){break;}	//해야됨
					else if((balloonBlock(w[kk].map[i],0,-w[kk].leftLen[i],i,kk)>=100)&&(balloonBlock(w[kk].map[i],0,-w[kk].leftLen[i],i,kk)<110)){	
						for(var a=0;a<obstacleMap[0].length;a++){ if((w[kk].y[i]==obstacleMap[0][a].y)&&(w[kk].x[i]-w[kk].leftLen[i]==obstacleMap[0][a].x)&&(obstacleMap[0][a].existence)) {obstacleBoom(a); break;} }
					}
					else if(balloonBlock(w[kk].map[i],0,-w[kk].leftLen[i],i,kk)==10000){ w[kk].leftBlock[i]=10000; break; }
				}
				for(w[kk].rightLen[i]=1;w[kk].rightLen[i]<=w[kk].len;w[kk].rightLen[i]++){
					if(balloonBlock(w[kk].map[i],0,w[kk].rightLen[i],i,kk)==2147483647){ w[kk].rightBlock[i]=2147483647; break; }
					else if((balloonBlock(w[kk].map[i],0,w[kk].rightLen[i],i,kk)>=50000)&&(balloonBlock(w[kk].map[i],0,w[kk].rightLen[i],i,kk)<60000)){break;}
					else if((balloonBlock(w[kk].map[i],0,w[kk].rightLen[i],i,kk)>=1000)&&(balloonBlock(w[kk].map[i],0,w[kk].rightLen[i],i,kk)<2000)){break;}
					else if(balloonBlock(w[kk].map[i],0,w[kk].rightLen[i],i,kk)==1){ w[kk].rightBlock[i]=1; break; }
					else if((balloonBlock(w[kk].map[i],0,w[kk].rightLen[i],i,kk)>=100)&&(balloonBlock(w[kk].map[i],0,w[kk].rightLen[i],i,kk)<110)){	
						for(var a=0;a<obstacleMap[0].length;a++){ if((w[kk].y[i]==obstacleMap[0][a].y)&&(w[kk].x[i]+w[kk].rightLen[i]==obstacleMap[0][a].x)&&(obstacleMap[0][a].existence)) {obstacleBoom(a); break;} }
					}
					else if(balloonBlock(w[kk].map[i],0,w[kk].rightLen[i],i,kk)==10000){ w[kk].rightBlock[i]=10000; break; }
					else if(balloonBlock(w[kk].map[i],0,w[kk].rightLen[i],i,kk)==30000){ w[kk].rightBlock[i]=30000; break; }
				}
				for(w[kk].upLen[i]=1;w[kk].upLen[i]<=w[kk].len;w[kk].upLen[i]++){
					if(balloonBlock(w[kk].map[i],-w[kk].upLen[i],0,i,kk)==2147483647){ w[kk].upBlock[i]=2147483647; break; }
					else if((balloonBlock(w[kk].map[i],-w[kk].upLen[i],0,i,kk)>=50000)&&(balloonBlock(w[kk].map[i],-w[kk].upLen[i],0,i,kk)<60000)){break;}
					else if((balloonBlock(w[kk].map[i],-w[kk].upLen[i],0,i,kk)>=1000)&&(balloonBlock(w[kk].map[i],-w[kk].upLen[i],0,i,kk)<2000)){break;}
					else if(balloonBlock(w[kk].map[i],-w[kk].upLen[i],0,i,kk)==1){ w[kk].upBlock[i]=1; break; }
					else if((balloonBlock(w[kk].map[i],-w[kk].upLen[i],0,i,kk)>=100)&&(balloonBlock(w[kk].map[i],-w[kk].upLen[i],0,i,kk)<110)){
						for(var a=0;a<obstacleMap[0].length;a++){ if((w[kk].y[i]-w[kk].upLen[i]==obstacleMap[0][a].y)&&(w[kk].x[i]==obstacleMap[0][a].x)&&(obstacleMap[0][a].existence)) {obstacleBoom(a); break;} }
					}
					else if(balloonBlock(w[kk].map[i],-w[kk].upLen[i],0,i,kk)==10000){ w[kk].upBlock[i]=10000; break; }
					else if(balloonBlock(w[kk].map[i],-w[kk].upLen[i],0,i,kk)==30000){ w[kk].upBlock[i]=30000; break; }
				}
				for(w[kk].downLen[i]=1;w[kk].downLen[i]<=w[kk].len;w[kk].downLen[i]++){
					if(balloonBlock(w[kk].map[i],w[kk].downLen[i],0,i,kk)==2147483647){ w[kk].downBlock[i]=2147483647; break; }
					else if((balloonBlock(w[kk].map[i],w[kk].downLen[i],0,i,kk)>=50000)&&(balloonBlock(w[kk].map[i],w[kk].downLen[i],0,i,kk)<60000)){break;}
					else if((balloonBlock(w[kk].map[i],w[kk].downLen[i],0,i,kk)>=1000)&&(balloonBlock(w[kk].map[i],w[kk].downLen[i],0,i,kk)<2000)){break;}
					else if(balloonBlock(w[kk].map[i],w[kk].downLen[i],0,i,kk)==1){ w[kk].downBlock[i]=1; break; }
					else if((balloonBlock(w[kk].map[i],w[kk].downLen[i],0,i,kk)>=100)&&(balloonBlock(w[kk].map[i],w[kk].downLen[i],0,i,kk)<110)){
						for(var a=0;a<obstacleMap[0].length;a++){ if((w[kk].y[i]+w[kk].downLen[i]==obstacleMap[0][a].y)&&(w[kk].x[i]==obstacleMap[0][a].x)&&(obstacleMap[0][a].existence)) {obstacleBoom(a); break;} }
					}
					else if(balloonBlock(w[kk].map[i],w[kk].downLen[i],0,i,kk)==10000){ w[kk].downBlock[i]=10000; break; }
					else if(balloonBlock(w[kk].map[i],w[kk].downLen[i],0,i,kk)==30000){ w[kk].downBlock[i]=30000; break; }
				}
				if(w[kk].map[i]==mapCount){
					ctx.drawImage(w[kk].image2,backgroundx+(w[kk].x[i])*oneBlock,backgroundy+(w[kk].y[i])*oneBlock,oneBlock,oneBlock);
					for(var n=1;n<w[kk].leftLen[i];n++){ blockMap[w[kk].map[i]][w[kk].y[i]][w[kk].x[i]-n]=1; ctx.drawImage(w[kk].image2,backgroundx+(w[kk].x[i]-n)*oneBlock,backgroundy+(w[kk].y[i])*oneBlock,oneBlock,oneBlock); }
					for(var n=1;n<w[kk].rightLen[i];n++){ blockMap[w[kk].map[i]][w[kk].y[i]][w[kk].x[i]+n]=1; ctx.drawImage(w[kk].image2,backgroundx+(w[kk].x[i]+n)*oneBlock,backgroundy+(w[kk].y[i])*oneBlock,oneBlock,oneBlock); }
					for(var n=1;n<w[kk].upLen[i];n++){ blockMap[w[kk].map[i]][w[kk].y[i]-n][w[kk].x[i]]=1; ctx.drawImage(w[kk].image2,backgroundx+(w[kk].x[i])*oneBlock,backgroundy+(w[kk].y[i]-n)*oneBlock,oneBlock,oneBlock); }
					for(var n=1;n<w[kk].downLen[i];n++){ blockMap[w[kk].map[i]][w[kk].y[i]+n][w[kk].x[i]]=1; ctx.drawImage(w[kk].image2,backgroundx+(w[kk].x[i])*oneBlock,backgroundy+(w[kk].y[i]+n)*oneBlock,oneBlock,oneBlock); }
				}
			}
			else if((w[kk].countTime[i]>3000)&&(w[kk].countTime[i]<=3500)){if(w[kk].map[i]==mapCount){
				ctx.drawImage(w[kk].image2,backgroundx+(w[kk].x[i])*oneBlock,backgroundy+(w[kk].y[i])*oneBlock,oneBlock,oneBlock);
				for(var n=1;n<w[kk].leftLen[i];n++){ ctx.drawImage(w[kk].image2,backgroundx+(w[kk].x[i]-n)*oneBlock,backgroundy+(w[kk].y[i])*oneBlock,oneBlock,oneBlock); }
				for(var n=1;n<w[kk].rightLen[i];n++){ ctx.drawImage(w[kk].image2,backgroundx+(w[kk].x[i]+n)*oneBlock,backgroundy+(w[kk].y[i])*oneBlock,oneBlock,oneBlock); }
				for(var n=1;n<w[kk].upLen[i];n++){ ctx.drawImage(w[kk].image2,backgroundx+(w[kk].x[i])*oneBlock,backgroundy+(w[kk].y[i]-n)*oneBlock,oneBlock,oneBlock); }
				for(var n=1;n<w[kk].downLen[i];n++){ ctx.drawImage(w[kk].image2,backgroundx+(w[kk].x[i])*oneBlock,backgroundy+(w[kk].y[i]+n)*oneBlock,oneBlock,oneBlock); }
			}}
			else{ 
				for(var n=1;n<w[kk].leftLen[i];n++){ blockMap[w[kk].map[i]][w[kk].y[i]][w[kk].x[i]-n]=0; }
				for(var n=1;n<w[kk].rightLen[i];n++){ blockMap[w[kk].map[i]][w[kk].y[i]][w[kk].x[i]+n]=0; }
				for(var n=1;n<w[kk].upLen[i];n++){ blockMap[w[kk].map[i]][w[kk].y[i]-n][w[kk].x[i]]=0; }
				for(var n=1;n<w[kk].downLen[i];n++){ blockMap[w[kk].map[i]][w[kk].y[i]+n][w[kk].x[i]]=0; }
				if(w[kk].leftBlock[i]==10000)if(balloonBlock(w[kk].map[i],0,-w[kk].leftLen[i],i,kk)==10000){
					for(var a=0;a<obstacleMap[0].length;a++){ if((w[kk].y[i]==obstacleMap[0][a].y)&&(w[kk].x[i]-w[kk].leftLen[i]==obstacleMap[0][a].x)&&(obstacleMap[0][a].existence)) {obstacleBoom(a); break;} }
				}
				if(w[kk].rightBlock[i]==10000)if(balloonBlock(w[kk].map[i],0,w[kk].rightLen[i],i,kk)==10000){
					for(var a=0;a<obstacleMap[0].length;a++){ if((w[kk].y[i]==obstacleMap[0][a].y)&&(w[kk].x[i]+w[kk].rightLen[i]==obstacleMap[0][a].x)&&(obstacleMap[0][a].existence)) {obstacleBoom(a); break;} }
				}
				if(w[kk].upBlock[i]==10000)if(balloonBlock(w[kk].map[i],-w[kk].upLen[i],0,i,kk)==10000){
					for(var a=0;a<obstacleMap[0].length;a++){ if((w[kk].y[i]-w[kk].upLen[i]==obstacleMap[0][a].y)&&(w[kk].x[i]==obstacleMap[0][a].x)&&(obstacleMap[0][a].existence)) {obstacleBoom(a); break;} }
				}
				if(w[kk].downBlock[i]==10000)if(balloonBlock(w[kk].map[i],w[kk].downLen[i],0,i,kk)==10000){
					for(var a=0;a<obstacleMap[0].length;a++){ if((w[kk].y[i]+w[kk].downLen[i]==obstacleMap[0][a].y)&&(w[kk].x[i]==obstacleMap[0][a].x)&&(obstacleMap[0][a].existence)) {obstacleBoom(a); break;} }
				}
				w[kk].count[i]=0; w[kk].countTime[i]=0; blockMap[w[kk].map[i]][w[kk].y[i]][w[kk].x[i]]=0;
			}
		}
	}
}
if(1){ drawInformation(); }
if(0){//blockMap[0]정보 화면에 표시
	ctx.font = "15px Arial";
	for(var i=0;i<mhBlock[0];i++)
		for(var n=0;n<mwBlock[0];n++)
			ctx.fillText(blockMap[0][i][n],backgroundx+(n)*oneBlock,backgroundy+(i)*oneBlock+15);
}
if(w[0].inBalloon) ctx.drawImage(mainChar[0][4].image,charx,chary-oneBlock*0.2,oneBlock,oneBlock*1.2);
else ctx.drawImage(mainChar[0][sight[0]].image,charx,chary-oneBlock*0.2,oneBlock,oneBlock*1.2);
if(w[1].inBalloon) ctx.drawImage(mainChar[1][4].image,backgroundx+x[1],backgroundy+y[1]-oneBlock*0.2,oneBlock,oneBlock*1.2);
else ctx.drawImage(mainChar[1][sight[1]].image,backgroundx+x[1],backgroundy+y[1]-oneBlock*0.2,oneBlock,oneBlock*1.2);
drawMonsters();
monsterHit();
monsterDie();
if(dialogueSet) { Talking(); }<!--drawdialogue
ctx.drawImage(mouse,mouseX,mouseY,30,30);
if(map[32]){
	if(sight[0]==0){ if(x[0]%oneBlock==0) { if(parseInt( blockMap[mapCount][Math.floor(y[0]/oneBlock)][x[0]/oneBlock-1]/ 1000)==1) npcTalk(blockMap[mapCount][Math.floor(y[0]/oneBlock)][x[0]/oneBlock-1]%1000); else if(parseInt(blockMap[mapCount][Math.floor(y[0]/oneBlock)+1][x[0]/oneBlock-1]/ 1000)==1) npcTalk(blockMap[mapCount][Math.floor(y[0]/oneBlock)+1][x[0]/oneBlock-1]%1000);}}
	else if(sight[0]==1){ if(y[0]%oneBlock==0) { if(parseInt(blockMap[mapCount][y[0]/oneBlock-1][Math.floor(x[0]/oneBlock)]/ 1000)==1) npcTalk(blockMap[mapCount][y[0]/oneBlock-1][Math.floor(x[0]/oneBlock)]%1000); else if(parseInt(blockMap[mapCount][y[0]/oneBlock-1][Math.floor(x[0]/oneBlock)+1]/ 1000)==1) npcTalk(blockMap[mapCount][y[0]/oneBlock-1][Math.floor(x[0]/oneBlock)+1]%1000)}}
	else if(sight[0]==2){ if(x[0]%oneBlock==0) { if(parseInt(blockMap[mapCount][Math.floor(y[0]/oneBlock)][x[0]/oneBlock+1]/ 1000)==1) npcTalk(blockMap[mapCount][Math.floor(y[0]/oneBlock)][x[0]/oneBlock+1]%1000); else if(parseInt(blockMap[mapCount][Math.floor(y[0]/oneBlock)+1][x[0]/oneBlock+1]/ 1000)==1) npcTalk(blockMap[mapCount][Math.floor(y[0]/oneBlock)+1][x[0]/oneBlock+1]%1000)}}
	else{ if(y[0]%oneBlock==0) { if(parseInt(blockMap[mapCount][y[0]/oneBlock+1][Math.floor(x[0]/oneBlock)]/ 1000)==1) npcTalk(blockMap[mapCount][y[0]/oneBlock+1][Math.floor(x[0]/oneBlock)]%1000); else if(parseInt(blockMap[mapCount][y[0]/oneBlock+1][Math.floor(x[0]/oneBlock)+1]/ 1000)==1) npcTalk(blockMap[mapCount][y[0]/oneBlock+1][Math.floor(x[0]/oneBlock)+1]%1000)}}
}<!--spacebar-->

}

</script>
<center>
<br><br>	
<button onclick="alert('F11을 눌러서 전체화면으로 플레이해 보세요~(끌때도 F11) \n 방향키: 주인공 움직이기 \n 스페이스바: npc에게 말걸기');">도움말</button>
</center>
</body>
</html>


</body>
</html>
